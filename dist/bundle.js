!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}([function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],s.set(a,i),i+=a.length;return s}},s={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([i]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(i=0;i<e.length;i++){var s=e[i];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var r,i,a={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),o=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),l=null,c=0,d=[],h=n(13);function u(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(b(r.parts[s],t))}else{var o=[];for(s=0;s<r.parts.length;s++)o.push(b(r.parts[s],t));a[r.id]={id:r.id,refs:1,parts:o}}}}function f(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],s=t.base?a[0]+t.base:a[0],o={css:a[1],media:a[2],sourceMap:a[3]};r[s]?r[s].parts.push(o):n.push(r[s]={id:s,parts:[o]})}return n}function p(e,t){var n=o(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertAt.before,n);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),p(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var s=c++;n=l||(l=g(t)),r=_.bind(null,n,s,!1),i=_.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),p(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=h(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(s),o&&URL.revokeObjectURL(o)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return u(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var s=n[i];(o=a[s.id]).refs--,r.push(o)}e&&u(f(e,t),t);for(i=0;i<r.length;i++){var o;if(0===(o=r[i]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete a[o.id]}}}};var w,y=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function _(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var a=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var a=r,s=i+n;e^=-1;for(var o=i;o<s;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}},function(e,t,n){"use strict";var r=n(0),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new r.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,t.string2buf=function(e){var t,n,i,a,s,o=e.length,l=0;for(a=0;a<o;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=0,a=0;s<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,a,o=t||e.length,c=new Array(2*o);for(r=0,n=0;n<o;)if((i=e[n++])<128)c[r++]=i;else if((a=s[i])>4)c[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<o;)i=i<<6|63&e[n++],a--;a>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){(function(t){!function(){var t={};e.exports=t,function(e,t){e.toRGBA8=function(t){var n=t.width,r=t.height;if(null==t.tabs.acTL)return[e.toRGBA8.decodeImage(t.data,n,r,t).buffer];var i=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var a,s=new Uint8Array(n*r*4),o=0;o<t.frames.length;o++){var l=t.frames[o],c=l.rect.x,d=l.rect.y,h=l.rect.width,u=l.rect.height,f=e.toRGBA8.decodeImage(l.data,h,u,t);if(0==o?a=f:0==l.blend?e._copyTile(f,h,u,a,n,r,c,d,0):1==l.blend&&e._copyTile(f,h,u,a,n,r,c,d,1),i.push(a.buffer),a=a.slice(0),0==l.dispose);else if(1==l.dispose)e._copyTile(s,h,u,a,n,r,c,d,0);else if(2==l.dispose){for(var p=o-1;2==t.frames[p].dispose;)p--;a=new Uint8Array(i[p]).slice(0)}}return i},e.toRGBA8.decodeImage=function(t,n,r,i){var a=n*r,s=e.decode._getBPP(i),o=Math.ceil(n*s/8),l=new Uint8Array(4*a),c=new Uint32Array(l.buffer),d=i.ctype,h=i.depth,u=e._bin.readUshort;if(6==d){var f=a<<2;if(8==h)for(var p=0;p<f;p++)l[p]=t[p];if(16==h)for(p=0;p<f;p++)l[p]=t[p<<1]}else if(2==d){var m=i.tabs.tRNS,g=-1,v=-1,b=-1;if(m&&(g=m[0],v=m[1],b=m[2]),8==h)for(p=0;p<a;p++){var w=3*p;l[L=p<<2]=t[w],l[L+1]=t[w+1],l[L+2]=t[w+2],l[L+3]=255,-1!=g&&t[w]==g&&t[w+1]==v&&t[w+2]==b&&(l[L+3]=0)}if(16==h)for(p=0;p<a;p++){w=6*p;l[L=p<<2]=t[w],l[L+1]=t[w+2],l[L+2]=t[w+4],l[L+3]=255,-1!=g&&u(t,w)==g&&u(t,w+2)==v&&u(t,w+4)==b&&(l[L+3]=0)}}else if(3==d){var y=i.tabs.PLTE,_=i.tabs.tRNS,x=_?_.length:0;if(1==h)for(var k=0;k<r;k++){var S=k*o,z=k*n;for(p=0;p<n;p++){var L=z+p<<2,A=3*(E=t[S+(p>>3)]>>7-((7&p)<<0)&1);l[L]=y[A],l[L+1]=y[A+1],l[L+2]=y[A+2],l[L+3]=E<x?_[E]:255}}if(2==h)for(k=0;k<r;k++)for(S=k*o,z=k*n,p=0;p<n;p++){L=z+p<<2,A=3*(E=t[S+(p>>2)]>>6-((3&p)<<1)&3);l[L]=y[A],l[L+1]=y[A+1],l[L+2]=y[A+2],l[L+3]=E<x?_[E]:255}if(4==h)for(k=0;k<r;k++)for(S=k*o,z=k*n,p=0;p<n;p++){L=z+p<<2,A=3*(E=t[S+(p>>1)]>>4-((1&p)<<2)&15);l[L]=y[A],l[L+1]=y[A+1],l[L+2]=y[A+2],l[L+3]=E<x?_[E]:255}if(8==h)for(p=0;p<a;p++){var E;L=p<<2,A=3*(E=t[p]);l[L]=y[A],l[L+1]=y[A+1],l[L+2]=y[A+2],l[L+3]=E<x?_[E]:255}}else if(4==d){if(8==h)for(p=0;p<a;p++){L=p<<2;var T=t[I=p<<1];l[L]=T,l[L+1]=T,l[L+2]=T,l[L+3]=t[I+1]}if(16==h)for(p=0;p<a;p++){var I;L=p<<2,T=t[I=p<<2];l[L]=T,l[L+1]=T,l[L+2]=T,l[L+3]=t[I+2]}}else if(0==d){g=i.tabs.tRNS?i.tabs.tRNS:-1;if(1==h)for(p=0;p<a;p++){var N=(T=255*(t[p>>3]>>7-(7&p)&1))==255*g?0:255;c[p]=N<<24|T<<16|T<<8|T}if(2==h)for(p=0;p<a;p++){N=(T=85*(t[p>>2]>>6-((3&p)<<1)&3))==85*g?0:255;c[p]=N<<24|T<<16|T<<8|T}if(4==h)for(p=0;p<a;p++){N=(T=17*(t[p>>1]>>4-((1&p)<<2)&15))==17*g?0:255;c[p]=N<<24|T<<16|T<<8|T}if(8==h)for(p=0;p<a;p++){N=(T=t[p])==g?0:255;c[p]=N<<24|T<<16|T<<8|T}if(16==h)for(p=0;p<a;p++){T=t[p<<1],N=u(t,p<<1)==g?0:255;c[p]=N<<24|T<<16|T<<8|T}}return l},e.decode=function(t){for(var n,r=new Uint8Array(t),i=8,a=e._bin,s=a.readUshort,o=a.readUint,l={tabs:{},frames:[]},c=new Uint8Array(r.length),d=0,h=0,u=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(r[f]!=u[f])throw"The input is not a PNG file!";for(;i<r.length;){var p=a.readUint(r,i);i+=4;var m=a.readASCII(r,i,4);if(i+=4,"IHDR"==m)e.decode._IHDR(r,i,l);else if("IDAT"==m){for(f=0;f<p;f++)c[d+f]=r[i+f];d+=p}else if("acTL"==m)l.tabs[m]={num_frames:o(r,i),num_plays:o(r,i+4)},n=new Uint8Array(r.length);else if("fcTL"==m){if(0!=h)(S=l.frames[l.frames.length-1]).data=e.decode._decompress(l,n.slice(0,h),S.rect.width,S.rect.height),h=0;var g={x:o(r,i+12),y:o(r,i+16),width:o(r,i+4),height:o(r,i+8)},v=s(r,i+22);v=s(r,i+20)/(0==v?100:v);var b={rect:g,delay:Math.round(1e3*v),dispose:r[i+24],blend:r[i+25]};l.frames.push(b)}else if("fdAT"==m){for(f=0;f<p-4;f++)n[h+f]=r[i+f+4];h+=p-4}else if("pHYs"==m)l.tabs[m]=[a.readUint(r,i),a.readUint(r,i+4),r[i+8]];else if("cHRM"==m){l.tabs[m]=[];for(f=0;f<8;f++)l.tabs[m].push(a.readUint(r,i+4*f))}else if("tEXt"==m){null==l.tabs[m]&&(l.tabs[m]={});var w=a.nextZero(r,i),y=a.readASCII(r,i,w-i),_=a.readASCII(r,w+1,i+p-w-1);l.tabs[m][y]=_}else if("iTXt"==m){null==l.tabs[m]&&(l.tabs[m]={});w=0;var x=i;w=a.nextZero(r,x);y=a.readASCII(r,x,w-x),r[x=w+1],r[x+1];x+=2,w=a.nextZero(r,x);a.readASCII(r,x,w-x);x=w+1,w=a.nextZero(r,x);a.readUTF8(r,x,w-x);x=w+1;_=a.readUTF8(r,x,p-(x-i));l.tabs[m][y]=_}else if("PLTE"==m)l.tabs[m]=a.readBytes(r,i,p);else if("hIST"==m){var k=l.tabs.PLTE.length/3;l.tabs[m]=[];for(f=0;f<k;f++)l.tabs[m].push(s(r,i+2*f))}else if("tRNS"==m)3==l.ctype?l.tabs[m]=a.readBytes(r,i,p):0==l.ctype?l.tabs[m]=s(r,i):2==l.ctype&&(l.tabs[m]=[s(r,i),s(r,i+2),s(r,i+4)]);else if("gAMA"==m)l.tabs[m]=a.readUint(r,i)/1e5;else if("sRGB"==m)l.tabs[m]=r[i];else if("bKGD"==m)0==l.ctype||4==l.ctype?l.tabs[m]=[s(r,i)]:2==l.ctype||6==l.ctype?l.tabs[m]=[s(r,i),s(r,i+2),s(r,i+4)]:3==l.ctype&&(l.tabs[m]=r[i]);else if("IEND"==m){var S;if(0!=h)(S=l.frames[l.frames.length-1]).data=e.decode._decompress(l,n.slice(0,h),S.rect.width,S.rect.height),h=0;l.data=e.decode._decompress(l,c,l.width,l.height);break}i+=p;a.readUint(r,i);i+=4}return delete l.compress,delete l.interlace,delete l.filter,l},e.decode._decompress=function(t,n,r,i){return 0==t.compress&&(n=e.decode._inflate(n)),0==t.interlace?n=e.decode._filterZero(n,t,0,r,i):1==t.interlace&&(n=e.decode._readInterlace(n,t)),n},e.decode._inflate=function(e){return t.inflate(e)},e.decode._readInterlace=function(t,n){for(var r=n.width,i=n.height,a=e.decode._getBPP(n),s=a>>3,o=Math.ceil(r*a/8),l=new Uint8Array(i*o),c=0,d=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],p=0;p<7;){for(var m=u[p],g=f[p],v=0,b=0,w=d[p];w<i;)w+=m,b++;for(var y=h[p];y<r;)y+=g,v++;var _=Math.ceil(v*a/8);e.decode._filterZero(t,n,c,v,b);for(var x=0,k=d[p];k<i;){for(var S=h[p],z=c+x*_<<3;S<r;){var L;if(1==a)L=(L=t[z>>3])>>7-(7&z)&1,l[k*o+(S>>3)]|=L<<7-((3&S)<<0);if(2==a)L=(L=t[z>>3])>>6-(7&z)&3,l[k*o+(S>>2)]|=L<<6-((3&S)<<1);if(4==a)L=(L=t[z>>3])>>4-(7&z)&15,l[k*o+(S>>1)]|=L<<4-((1&S)<<2);if(a>=8)for(var A=k*o+S*s,E=0;E<s;E++)l[A+E]=t[(z>>3)+E];z+=a,S+=g}x++,k+=m}v*b!=0&&(c+=b*(1+_)),p+=1}return l},e.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},e.decode._filterZero=function(t,n,r,i,a){var s=e.decode._getBPP(n),o=Math.ceil(i*s/8),l=e.decode._paeth;s=Math.ceil(s/8);for(var c=0;c<a;c++){var d=r+c*o,h=d+c+1,u=t[h-1];if(0==u)for(var f=0;f<o;f++)t[d+f]=t[h+f];else if(1==u){for(f=0;f<s;f++)t[d+f]=t[h+f];for(f=s;f<o;f++)t[d+f]=t[h+f]+t[d+f-s]&255}else if(0==c){for(f=0;f<s;f++)t[d+f]=t[h+f];if(2==u)for(f=s;f<o;f++)t[d+f]=255&t[h+f];if(3==u)for(f=s;f<o;f++)t[d+f]=t[h+f]+(t[d+f-s]>>1)&255;if(4==u)for(f=s;f<o;f++)t[d+f]=t[h+f]+l(t[d+f-s],0,0)&255}else{if(2==u)for(f=0;f<o;f++)t[d+f]=t[h+f]+t[d+f-o]&255;if(3==u){for(f=0;f<s;f++)t[d+f]=t[h+f]+(t[d+f-o]>>1)&255;for(f=s;f<o;f++)t[d+f]=t[h+f]+(t[d+f-o]+t[d+f-s]>>1)&255}if(4==u){for(f=0;f<s;f++)t[d+f]=t[h+f]+l(0,t[d+f-o],0)&255;for(f=s;f<o;f++)t[d+f]=t[h+f]+l(t[d+f-s],t[d+f-o],t[d+f-s-o])&255}}}return t},e.decode._paeth=function(e,t,n){var r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),s=Math.abs(r-n);return i<=a&&i<=s?e:a<=s?t:n},e.decode._IHDR=function(t,n,r){var i=e._bin;r.width=i.readUint(t,n),n+=4,r.height=i.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++},e._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(t,n,r){for(var i,a="",s=0;s<r;s++)a+="%"+e._bin.pad(t[n+s].toString(16));try{i=decodeURIComponent(a)}catch(i){return e._bin.readASCII(t,n,r)}return i}},e._copyTile=function(e,t,n,r,i,a,s,o,l){for(var c=Math.min(t,i),d=Math.min(n,a),h=0,u=0,f=0;f<d;f++)for(var p=0;p<c;p++)if(s>=0&&o>=0?(h=f*t+p<<2,u=(o+f)*i+s+p<<2):(h=(-o+f)*t-s+p<<2,u=f*i+p<<2),0==l)r[u]=e[h],r[u+1]=e[h+1],r[u+2]=e[h+2],r[u+3]=e[h+3];else if(1==l){var m=e[h+3]*(1/255),g=e[h]*m,v=e[h+1]*m,b=e[h+2]*m,w=r[u+3]*(1/255),y=r[u]*w,_=r[u+1]*w,x=r[u+2]*w,k=1-m,S=m+w*k,z=0==S?0:1/S;r[u+3]=255*S,r[u+0]=(g+y*k)*z,r[u+1]=(v+_*k)*z,r[u+2]=(b+x*k)*z}else if(2==l){m=e[h+3],g=e[h],v=e[h+1],b=e[h+2],w=r[u+3],y=r[u],_=r[u+1],x=r[u+2];m==w&&g==y&&v==_&&b==x?(r[u]=0,r[u+1]=0,r[u+2]=0,r[u+3]=0):(r[u]=g,r[u+1]=v,r[u+2]=b,r[u+3]=m)}else if(3==l){m=e[h+3],g=e[h],v=e[h+1],b=e[h+2],w=r[u+3],y=r[u],_=r[u+1],x=r[u+2];if(m==w&&g==y&&v==_&&b==x)continue;if(m<220&&w>20)return!1}return!0},e.encode=function(t,n,r,i,a,s){null==i&&(i=0),null==s&&(s=!1);for(var o=new Uint8Array(t[0].byteLength*t.length+100),l=[137,80,78,71,13,10,26,10],c=0;c<8;c++)o[c]=l[c];var d=8,h=e._bin,u=e.crc.crc,f=h.writeUint,p=h.writeUshort,m=h.writeASCII,g=e.encode.compressPNG(t,n,r,i,s);f(o,d,13),m(o,d+=4,"IHDR"),f(o,d+=4,n),f(o,d+=4,r),o[d+=4]=g.depth,o[++d]=g.ctype,o[++d]=0,o[++d]=0,o[++d]=0,f(o,++d,u(o,d-17,17)),f(o,d+=4,1),m(o,d+=4,"sRGB"),o[d+=4]=1,f(o,++d,u(o,d-5,5)),d+=4;var v=t.length>1;if(v&&(f(o,d,8),m(o,d+=4,"acTL"),f(o,d+=4,t.length),f(o,d+=4,0),f(o,d+=4,u(o,d-12,12)),d+=4),3==g.ctype){f(o,d,3*(L=g.plte.length)),m(o,d+=4,"PLTE"),d+=4;for(c=0;c<L;c++){var b=3*c,w=g.plte[c],y=255&w,_=w>>8&255,x=w>>16&255;o[d+b+0]=y,o[d+b+1]=_,o[d+b+2]=x}if(f(o,d+=3*L,u(o,d-3*L-4,3*L+4)),d+=4,g.gotAlpha){f(o,d,L),m(o,d+=4,"tRNS"),d+=4;for(c=0;c<L;c++)o[d+c]=g.plte[c]>>24&255;f(o,d+=L,u(o,d-L-4,L+4)),d+=4}}for(var k=0,S=0;S<g.frames.length;S++){var z=g.frames[S];v&&(f(o,d,26),m(o,d+=4,"fcTL"),f(o,d+=4,k++),f(o,d+=4,z.rect.width),f(o,d+=4,z.rect.height),f(o,d+=4,z.rect.x),f(o,d+=4,z.rect.y),p(o,d+=4,a[S]),p(o,d+=2,1e3),o[d+=2]=z.dispose,o[++d]=z.blend,f(o,++d,u(o,d-30,30)),d+=4);var L,A=z.cimg;f(o,d,(L=A.length)+(0==S?0:4));var E=d+=4;m(o,d,0==S?"IDAT":"fdAT"),d+=4,0!=S&&(f(o,d,k++),d+=4);for(c=0;c<L;c++)o[d+c]=A[c];f(o,d+=L,u(o,E,d-E)),d+=4}return f(o,d,0),m(o,d+=4,"IEND"),f(o,d+=4,u(o,d-4,4)),d+=4,o.buffer.slice(0,d)},e.encode.compressPNG=function(t,n,r,i,a){for(var s=e.encode.compress(t,n,r,i,!1,a),o=0;o<t.length;o++){var l=s.frames[o],c=(l.rect.width,l.rect.height),d=l.bpl,h=l.bpp,u=new Uint8Array(c*d+c);l.cimg=e.encode._filterZero(l.img,c,h,d,u)}return s},e.encode.compress=function(t,n,r,i,a,s){null==s&&(s=!1);for(var o=6,l=8,c=4,d=255,h=0;h<t.length;h++)for(var u=new Uint8Array(t[h]),f=u.length,p=0;p<f;p+=4)d&=u[p+3];var m=255!=d,g={},v=[];if(0!=t.length&&(g[0]=0,v.push(0),0!=i&&i--),0!=i){var b=e.quantize(t,i,a);t=b.bufs;for(p=0;p<b.plte.length;p++){null==g[y=b.plte[p].est.rgba]&&(g[y]=v.length,v.push(y))}}else for(h=0;h<t.length;h++){var w=new Uint32Array(t[h]);for(f=w.length,p=0;p<f;p++){var y=w[p];if((p<n||y!=w[p-1]&&y!=w[p-n])&&null==g[y]&&(g[y]=v.length,v.push(y),v.length>=300))break}}var _=!!m&&a,x=v.length;x<=256&&0==s&&(l=x<=2?1:x<=4?2:x<=16?4:8,a&&(l=8),m=!0);var k=[];for(h=0;h<t.length;h++){var S=new Uint8Array(t[h]),z=new Uint32Array(S.buffer),L=0,A=0,E=n,T=r,I=0;if(0!=h&&!_){for(var N=a||1==h||2==k[k.length-2].dispose?1:2,C=0,D=1e9,B=0;B<N;B++){for(var M=new Uint8Array(t[h-1-B]),U=new Uint32Array(t[h-1-B]),F=n,q=r,R=-1,O=-1,P=0;P<r;P++)for(var Z=0;Z<n;Z++){z[p=P*n+Z]!=U[p]&&(Z<F&&(F=Z),Z>R&&(R=Z),P<q&&(q=P),P>O&&(O=P))}var j=-1==R?1:(R-F+1)*(O-q+1);j<D&&(D=j,C=B,-1==R?(L=A=0,E=T=1):(L=F,A=q,E=R-F+1,T=O-q+1))}M=new Uint8Array(t[h-1-C]);1==C&&(k[k.length-1].dispose=2);var H=new Uint8Array(E*T*4);new Uint32Array(H.buffer);e._copyTile(M,n,r,H,E,T,-L,-A,0),e._copyTile(S,n,r,H,E,T,-L,-A,3)?(e._copyTile(S,n,r,H,E,T,-L,-A,2),I=1):(e._copyTile(S,n,r,H,E,T,-L,-A,0),I=0),S=H,z=new Uint32Array(S.buffer)}var K=4*E;if(x<=256&&0==s){K=Math.ceil(l*E/8);for(H=new Uint8Array(K*T),P=0;P<T;P++){p=P*K;var Y=P*E;if(8==l)for(Z=0;Z<E;Z++)H[p+Z]=g[z[Y+Z]];else if(4==l)for(Z=0;Z<E;Z++)H[p+(Z>>1)]|=g[z[Y+Z]]<<4-4*(1&Z);else if(2==l)for(Z=0;Z<E;Z++)H[p+(Z>>2)]|=g[z[Y+Z]]<<6-2*(3&Z);else if(1==l)for(Z=0;Z<E;Z++)H[p+(Z>>3)]|=g[z[Y+Z]]<<7-1*(7&Z)}S=H,o=3,c=1}else if(0==m&&1==t.length){H=new Uint8Array(E*T*3);var V=E*T;for(p=0;p<V;p++){var X=3*p,$=4*p;H[X]=S[$],H[X+1]=S[$+1],H[X+2]=S[$+2]}S=H,o=2,c=3,K=3*E}k.push({rect:{x:L,y:A,width:E,height:T},img:S,bpl:K,bpp:c,blend:I,dispose:_?1:0})}return{ctype:o,depth:l,plte:v,gotAlpha:m,frames:k}},e.encode._filterZero=function(n,r,i,a,s){for(var o=[],l=0;l<5;l++)if(!(r*a>5e5)||2!=l&&3!=l&&4!=l){for(var c=0;c<r;c++)e.encode._filterLine(s,n,c,a,i,l);if(o.push(t.deflate(s)),1==i)break}for(var d,h=1e9,u=0;u<o.length;u++)o[u].length<h&&(d=u,h=o[u].length);return o[d]},e.encode._filterLine=function(t,n,r,i,a,s){var o=r*i,l=o+r,c=e.decode._paeth;if(t[l]=s,l++,0==s)for(var d=0;d<i;d++)t[l+d]=n[o+d];else if(1==s){for(d=0;d<a;d++)t[l+d]=n[o+d];for(d=a;d<i;d++)t[l+d]=n[o+d]-n[o+d-a]+256&255}else if(0==r){for(d=0;d<a;d++)t[l+d]=n[o+d];if(2==s)for(d=a;d<i;d++)t[l+d]=n[o+d];if(3==s)for(d=a;d<i;d++)t[l+d]=n[o+d]-(n[o+d-a]>>1)+256&255;if(4==s)for(d=a;d<i;d++)t[l+d]=n[o+d]-c(n[o+d-a],0,0)+256&255}else{if(2==s)for(d=0;d<i;d++)t[l+d]=n[o+d]+256-n[o+d-i]&255;if(3==s){for(d=0;d<a;d++)t[l+d]=n[o+d]+256-(n[o+d-i]>>1)&255;for(d=a;d<i;d++)t[l+d]=n[o+d]+256-(n[o+d-i]+n[o+d-a]>>1)&255}if(4==s){for(d=0;d<a;d++)t[l+d]=n[o+d]+256-c(0,n[o+d-i],0)&255;for(d=a;d<i;d++)t[l+d]=n[o+d]+256-c(n[o+d-a],n[o+d-i],n[o+d-a-i])&255}}},e.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(t,n,r,i){for(var a=0;a<i;a++)t=e.crc.table[255&(t^n[r+a])]^t>>>8;return t},crc:function(t,n,r){return 4294967295^e.crc.update(4294967295,t,n,r)}},e.quantize=function(t,n,r){for(var i=[],a=0,s=0;s<t.length;s++)i.push(e.encode.alphaMul(new Uint8Array(t[s]),r)),a+=t[s].byteLength;var o=new Uint8Array(a),l=new Uint32Array(o.buffer),c=0;for(s=0;s<i.length;s++){for(var d=i[s],h=d.length,u=0;u<h;u++)o[c+u]=d[u];c+=h}var f={i0:0,i1:o.length,bst:null,est:null,tdst:0,left:null,right:null};f.bst=e.quantize.stats(o,f.i0,f.i1),f.est=e.quantize.estats(f.bst);for(var p=[f];p.length<n;){var m=0,g=0;for(s=0;s<p.length;s++)p[s].est.L>m&&(m=p[s].est.L,g=s);if(m<.001)break;var v=p[g],b=e.quantize.splitPixels(o,l,v.i0,v.i1,v.est.e,v.est.eMq255),w={i0:v.i0,i1:b,bst:null,est:null,tdst:0,left:null,right:null};w.bst=e.quantize.stats(o,w.i0,w.i1),w.est=e.quantize.estats(w.bst);var y={i0:b,i1:v.i1,bst:null,est:null,tdst:0,left:null,right:null};y.bst={R:[],m:[],N:v.bst.N-w.bst.N};for(s=0;s<16;s++)y.bst.R[s]=v.bst.R[s]-w.bst.R[s];for(s=0;s<4;s++)y.bst.m[s]=v.bst.m[s]-w.bst.m[s];y.est=e.quantize.estats(y.bst),v.left=w,v.right=y,p[g]=w,p.push(y)}p.sort(function(e,t){return t.bst.N-e.bst.N});for(var _=0;_<i.length;_++){var x=e.quantize.planeDst,k=new Uint8Array(i[_].buffer),S=new Uint32Array(i[_].buffer),z=k.length;for(s=0;s<z;s+=4){for(var L=k[s]*(1/255),A=k[s+1]*(1/255),E=k[s+2]*(1/255),T=k[s+3]*(1/255),I=f;I.left;)I=x(I.est,L,A,E,T)<=0?I.left:I.right;S[s>>2]=I.est.rgba}i[_]=S.buffer}return{bufs:i,plte:p}},e.quantize.getNearest=function(t,n,r,i,a){if(null==t.left)return t.tdst=e.quantize.dist(t.est.q,n,r,i,a),t;var s=e.quantize.planeDst(t.est,n,r,i,a),o=t.left,l=t.right;s>0&&(o=t.right,l=t.left);var c=e.quantize.getNearest(o,n,r,i,a);if(c.tdst<=s*s)return c;var d=e.quantize.getNearest(l,n,r,i,a);return d.tdst<c.tdst?d:c},e.quantize.planeDst=function(e,t,n,r,i){var a=e.e;return a[0]*t+a[1]*n+a[2]*r+a[3]*i-e.eMq},e.quantize.dist=function(e,t,n,r,i){var a=t-e[0],s=n-e[1],o=r-e[2],l=i-e[3];return a*a+s*s+o*o+l*l},e.quantize.splitPixels=function(t,n,r,i,a,s){var o=e.quantize.vecDot;i-=4;for(;r<i;){for(;o(t,r,a)<=s;)r+=4;for(;o(t,i,a)>s;)i-=4;if(r>=i)break;var l=n[r>>2];n[r>>2]=n[i>>2],n[i>>2]=l,r+=4,i-=4}for(;o(t,r,a)>s;)r-=4;return r+4},e.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},e.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],a=n-t>>2,s=t;s<n;s+=4){var o=e[s]*(1/255),l=e[s+1]*(1/255),c=e[s+2]*(1/255),d=e[s+3]*(1/255);i[0]+=o,i[1]+=l,i[2]+=c,i[3]+=d,r[0]+=o*o,r[1]+=o*l,r[2]+=o*c,r[3]+=o*d,r[5]+=l*l,r[6]+=l*c,r[7]+=l*d,r[10]+=c*c,r[11]+=c*d,r[15]+=d*d}return r[4]=r[1],r[8]=r[2],r[12]=r[3],r[9]=r[6],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:a}},e.quantize.estats=function(t){var n=t.R,r=t.m,i=t.N,a=r[0],s=r[1],o=r[2],l=r[3],c=0==i?0:1/i,d=[n[0]-a*a*c,n[1]-a*s*c,n[2]-a*o*c,n[3]-a*l*c,n[4]-s*a*c,n[5]-s*s*c,n[6]-s*o*c,n[7]-s*l*c,n[8]-o*a*c,n[9]-o*s*c,n[10]-o*o*c,n[11]-o*l*c,n[12]-l*a*c,n[13]-l*s*c,n[14]-l*o*c,n[15]-l*l*c],h=d,u=e.M4,f=[.5,.5,.5,.5],p=0,m=0;if(0!=i)for(var g=0;g<10&&(f=u.multVec(h,f),m=Math.sqrt(u.dot(f,f)),f=u.sml(1/m,f),!(Math.abs(m-p)<1e-9));g++)p=m;var v=[a*c,s*c,o*c,l*c],b=u.dot(u.sml(255,v),f),w=v[3]<.001?0:1/v[3];return{Cov:d,q:v,e:f,L:p,eMq255:b,eMq:u.dot(f,v),rgba:(Math.round(255*v[3])<<24|Math.round(255*v[2]*w)<<16|Math.round(255*v[1]*w)<<8|Math.round(255*v[0]*w)<<0)>>>0}},e.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},e.encode.alphaMul=function(e,t){for(var n=new Uint8Array(e.length),r=e.length>>2,i=0;i<r;i++){var a=i<<2,s=e[a+3];t&&(s=s<128?0:255);var o=s*(1/255);n[a+0]=e[a+0]*o,n[a+1]=e[a+1]*o,n[a+2]=e[a+2]*o,n[a+3]=s}return n}}(t,n(17))}()}).call(this,n(16))},function(e,t,n){var r;e.exports=function e(t,n,i){function a(o,l){if(!n[o]){if(!t[o]){var c="function"==typeof r&&r;if(!l&&c)return r(o,!0);if(s)return s(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return a(n||e)},h,h.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof r&&r,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(s(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,s,o;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(o=s;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r,i,a,s,o;o=navigator.userAgent.toLowerCase(),s=navigator.platform.toLowerCase(),r=o.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],a="ie"===r[1]&&document.documentMode,(i={name:"version"===r[1]?r[3]:r[1],version:a||parseFloat("opera"===r[1]&&r[4]?r[4]:r[2]),platform:{name:o.match(/ip(?:ad|od|hone)/)?"ios":(o.match(/(?:webos|android)/)||s.match(/mac|win|linux/)||["other"])[0]}})[i.name]=!0,i[i.name+parseInt(i.version,10)]=!0,i.platform[i.platform.name]=!0,t.exports=i},{}],3:[function(e,t,n){var r,i,a,s={}.hasOwnProperty,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},l=[].slice;r=e("events").EventEmitter,a=e("./browser.coffee"),i=function(e){var t,n;function r(e){var n,r,i;for(r in this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e),t)i=t[r],null==(n=this.options)[r]&&(n[r]=i)}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,e),t={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},n={delay:500,copy:!1},r.prototype.setOption=function(e,t){if(this.options[e]=t,null!=this._canvas&&("width"===e||"height"===e))return this._canvas[e]=t},r.prototype.setOptions=function(e){var t,n,r;for(t in n=[],e)s.call(e,t)&&(r=e[t],n.push(this.setOption(t,r)));return n},r.prototype.addFrame=function(e,t){var r,i;for(i in null==t&&(t={}),(r={}).transparent=this.options.transparent,n)r[i]=t[i]||n[i];if(null==this.options.width&&this.setOption("width",e.width),null==this.options.height&&this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!==ImageData&&e instanceof ImageData)r.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?r.data=this.getContextData(e):r.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?r.data=this.getImageData(e):r.image=e}return this.frames.push(r)},r.prototype.render=function(){var e,t,n;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,t,n;for(n=[],e=0,t=this.frames.length;0<=t?e<t:e>t;0<=t?++e:--e)n.push(null);return n}.call(this),t=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(e=0,n=t;0<=n?e<n:e>n;0<=n?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},r.prototype.abort=function(){for(var e;null!=(e=this.activeWorkers.shift());)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},r.prototype.spawnWorkers=function(){var e,t,n,r;return e=Math.min(this.options.workers,this.frames.length),function(){n=[];for(var r=t=this.freeWorkers.length;t<=e?r<e:r>e;t<=e?r++:r--)n.push(r);return n}.apply(this).forEach((r=this,function(e){var t;return r.log("spawning worker "+e),(t=new Worker(r.options.workerScript)).onmessage=function(e){return r.activeWorkers.splice(r.activeWorkers.indexOf(t),1),r.freeWorkers.push(t),r.frameFinished(e.data)},r.freeWorkers.push(t)})),e},r.prototype.frameFinished=function(e){var t,n;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,!0===this.options.globalPalette&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(t=1,n=this.freeWorkers.length;1<=n?t<n:t>n;1<=n?++t:--t)this.renderNextFrame();return o.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},r.prototype.finishRendering=function(){var e,t,n,r,i,a,s,o,l,c,d,h,u,f,p,m;for(o=0,f=this.imageParts,i=0,l=f.length;i<l;i++)t=f[i],o+=(t.data.length-1)*t.pageSize+t.cursor;for(o+=t.pageSize-t.cursor,this.log("rendering finished - filesize "+Math.round(o/1e3)+"kb"),e=new Uint8Array(o),h=0,p=this.imageParts,a=0,c=p.length;a<c;a++)for(t=p[a],m=t.data,n=s=0,d=m.length;s<d;n=++s)u=m[n],e.set(u,h),n===t.data.length-1?h+=t.cursor:h+=t.pageSize;return r=new Blob([e],{type:"image/gif"}),this.emit("finished",r,e)},r.prototype.renderNextFrame=function(){var e,t,n;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],n=this.freeWorkers.shift(),t=this.getTask(e),this.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(n),n.postMessage(t)},r.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},r.prototype.getImageData=function(e){var t;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(t=this._canvas.getContext("2d")).setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},r.prototype.getTask=function(e){var t,n;if(t=this.frames.indexOf(e),n={index:t,last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:"chrome"===a.name},null!=e.data)n.data=e.data;else if(null!=e.context)n.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");n.data=this.getImageData(e.image)}return n},r.prototype.log=function(){var e;if(e=1<=arguments.length?l.call(arguments,0):[],this.options.debug)return console.log.apply(console,e)},r}(r),t.exports=i},{"./browser.coffee":2,events:1}]},{},[3])(3)},function(e,t,n){var r=n(12);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"/* --------------frames-select-------------------- */\n\n.frames-select {\n  height: 100%;\n  max-height: calc(100vh - 58px);\n  margin-right: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.frames-container .preview-container-wrapper {\n  position: relative;\n  z-index: 10;\n}\n\n.frames-container .preview-container-wrapper:active {\n  z-index: 9;\n}\n\n.frames-select .preview-container {\n  position: relative;\n  margin-bottom: 15px;\n  border: 2px solid #547F97;\n  border-radius: 3px;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABlBMVEVMTExVVVUnhsEkAAAAHUlEQVR4AWOAAUYoQOePEAUj3v9oYDQ9gMBoegAAJFwCAbLaTIMAAAAASUVORK5CYII=') repeat;\n}\n\n.frames-container .target-position {\n  position: relative;\n  z-index: 8;\n  width: 100px;\n  height: 100px;\n  margin-bottom: 15px;\n  background: rgba(255, 255, 255, 0.3);\n  border: 2px dotted rgb(231, 207, 84);\n  border-radius: 3px;\n}\n\n.frames-container {\n  position: relative;\n  overflow-y: scroll;\n  max-height: calc(100vh - 150px);\n  opacity: 0.99;\n}\n\n.frames-select .frame {\n  width: 100px;\n  height: 100px;\n  vertical-align: bottom;\n  image-rendering: pixelated;\n}\n\n.preview-container .frame-number {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 30px;\n  height: 30px;\n  font-size: 25px;\n  line-height: 30px;\n  font-family: Arial;\n  text-align: center;\n  color: #fff;\n  border-radius: 2px;\n  opacity: 0.7;\n  background: #547F97;\n}\n\n.preview-container .delete-button,\n.preview-container .copy-button,\n.preview-container .move-button {\n  position: absolute;\n  right: 0;\n  width: 30px;\n  height: 30px;\n  color: #fff;\n  font-size: 15px;\n  background: #547F97;\n  border: none;\n  border-radius: 2px;\n  opacity: 0;\n  transition: 0.1s ease-in;\n  cursor: pointer;\n}\n\n.preview-container .delete-button {\n  top: 0;\n}\n.preview-container .copy-button {\n  bottom: 0;\n}\n\n.preview-container .move-button {\n  bottom: 0;\n  left: 0;\n}\n\n.preview-container:hover .delete-button,\n.preview-container:hover .copy-button,\n.preview-container:hover .move-button {\n  opacity: 0.8;\n}\n\n.preview-container .delete-button:hover,\n.preview-container .copy-button:hover,\n.preview-container .move-button:hover {\n  opacity: 1;\n}\n\n.frames-select .selected {\n  border-color: rgb(231, 207, 84);\n}\n.frames-select .selected .frame-number {\n  background: rgb(231, 207, 84);\n}\n\n.frames-select .addFrame-button {\n  width: 100%;\n  height: 35px;\n  padding: 0;\n  margin-top: 10px;\n  color: #fff;\n  font-family: Arial;\n  font-size: 15px;\n  word-wrap: none;\n  background: #2B234D;\n  border: 2px solid #7E74A6;\n  border-radius: 3px;\n  cursor: pointer;\n}\n\n.frames-select .addFrame-button i {\n  color: #fff;\n  font-size: 15px;\n  margin-right: 5px;\n}\n\n.frames-select .addFrame-button:active {\n  background: #27223A;\n  border-color: #6F62A6;\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){var r=n(15);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"/* -----------------tools---------------- */\n\n.tools-container {\n  z-index: 10;\n  height: 100%;\n  margin-right: 10px;\n  align-self: center;\n}\n\n.tools-select, .tool-size {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  width: 94px;\n  padding: 4px;\n}\n\n.tools-select {\n  margin-bottom: 20px;\n}\n\n.tool-size {\n  position: relative;\n}\n\n.tool-size .description {\n  position: absolute;\n  padding: 3px;\n  bottom: 110%;\n  display: none;\n  flex-direction: column;\n  width: calc(100% - 12px);\n  align-items: center;\n  font-family: Arial, Helvetica, sans-serif;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.7);\n  border-radius: 3px;\n}\n\n.tool-size:hover .description {\n  display: flex;\n}\n\n.tool-size .description-title {\n  margin-bottom: 5px;\n  font-size: 13px;\n}\n\n.tool-size .description-text {\n  font-size: 11px;\n}\n\n.tool-size .size {\n  width: 18px;\n  height: 18px;\n  background: #fff;\n  border: 2px solid #1D3847;\n  cursor: pointer;\n}\n\n.tool-size .px4 {\n  box-shadow: inset 0 0 0 2px #000;\n}\n\n.tool-size .px3 {\n  box-shadow: inset 0 0 0 3px #000;\n}\n\n.tool-size .px2 {\n  box-shadow: inset 0 0 0 4px #000;\n}\n\n.tool-size .px1 {\n  box-shadow: inset 0 0 0 5px #000;\n}\n\n.tool-size .active {\n  background-color: rgb(231, 207, 84);\n  border-color: rgb(231, 207, 84);\n}\n\n.tools-select .tool {\n  position: relative;\n  height: 46px;\n  width: 46px;\n  margin-bottom: 2px;\n  cursor: pointer;\n  color: #fff;\n  font-size: 25px;\n  text-align: center;\n  line-height: 46px;\n  background-color: #1D3847;\n}\n\n.tools-select .triangle i {\n  transform: scale(1.6);\n}\n\n.tools-select .tool .description {\n  display: none;\n  z-index: 20;\n  position: absolute;\n  padding: 3px 3px;\n  left: 110%;\n  top: 50%;\n  width: 200%;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 14px;\n  line-height: 18px;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.7);\n  border-radius: 3px;\n  transform: translateY(-50%);\n}\n\n.tools-select .tool:hover .description {\n  display: inline-block;\n}\n\n.tool .description .shortcut {\n  color: gold;\n}\n\n.tool .description .addition {\n  font-size: 12px;\n  opacity: 0.7;\n}\n\n.tools-select .selected {\n  color: rgb(231, 207, 84);\n  box-shadow: inset 0 0 0 1px rgb(231, 207, 84);\n}\n\n.choose-color {\n  position: relative;\n}\n\n.choose-color .second-color {\n  z-index: 9;\n  margin-left: 40px;\n  margin-top: 20px;\n  width: 50px;\n  height: 50px;\n  border: 2px solid #5B8AA3;\n  box-shadow: inset 0 0 2px 2px #5B8AA3;\n  border-radius: 3px;\n}\n\n.choose-color .color {\n  z-index: 10;\n  position: absolute;\n  left: 15px;\n  top: -5px;\n  width: 50px;\n  height: 50px;\n  border: 2px solid rgb(231, 207, 84);\n  box-shadow: inset 0 0 2px 2px rgb(231, 207, 84);\n  border-radius: 3px;\n}\n",""])},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],d=!1,h=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!d){var e=o(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||d||o(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r={};(0,n(0).assign)(r,n(18),n(21),n(8)),e.exports=r},function(e,t,n){"use strict";var r=n(19),i=n(0),a=n(6),s=n(3),o=n(7),l=Object.prototype.toString,c=0,d=-1,h=0,u=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:d,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(s[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,o=this.strm,d=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(d),o.next_out=0,o.avail_out=d),1!==(n=r.deflate(o,s))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==s||(this.onEnd(c),o.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=f,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},function(e,t,n){"use strict";var r,i=n(0),a=n(20),s=n(4),o=n(5),l=n(3),c=0,d=1,h=3,u=4,f=5,p=0,m=1,g=-2,v=-3,b=-5,w=-1,y=1,_=2,x=3,k=4,S=0,z=2,L=8,A=9,E=15,T=8,I=286,N=30,C=19,D=2*I+1,B=15,M=3,U=258,F=U+M+1,q=32,R=42,O=69,P=73,Z=91,j=103,H=113,K=666,Y=1,V=2,X=3,$=4,G=3;function W(e,t){return e.msg=l[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t){var n,r,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,c=e.window,d=e.w_mask,h=e.prev,u=e.strstart+U,f=c[a+s-1],p=c[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+s]===p&&c[n+s-1]===f&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<u);if(r=U-(u-a),a=u-U,r>s){if(e.match_start=t,s=r,r>=o)break;f=c[a+s-1],p=c[a+s]}}}while((t=h[t&d])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead}function ae(e){var t,n,r,a,l,c,d,h,u,f,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-F)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);a+=p}if(0===e.strm.avail_in)break;if(c=e.strm,d=e.window,h=e.strstart+e.lookahead,u=a,f=void 0,(f=c.avail_in)>u&&(f=u),n=0===f?0:(c.avail_in-=f,i.arraySet(d,c.input,c.next_in,f,h),1===c.state.wrap?c.adler=s(c.adler,d,f,h):2===c.state.wrap&&(c.adler=o(c.adler,d,f,h)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=M)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+M-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<M)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function se(e,t){for(var n,r;;){if(e.lookahead<F){if(ae(e),e.lookahead<F&&t===c)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=M&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=ie(e,n)),e.match_length>=M)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-M),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=M){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=e.strstart<M-1?e.strstart:M-1,t===u?(te(e,!0),0===e.strm.avail_out?X:$):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:V}function oe(e,t){for(var n,r,i;;){if(e.lookahead<F){if(ae(e),e.lookahead<F&&t===c)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=M&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=M-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=ie(e,n),e.match_length<=5&&(e.strategy===y||e.match_length===M&&e.strstart-e.match_start>4096)&&(e.match_length=M-1)),e.prev_length>=M&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-M,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-M),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+M-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=M-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return Y}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Y}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<M-1?e.strstart:M-1,t===u?(te(e,!0),0===e.strm.avail_out?X:$):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:V}function le(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*D),this.dyn_dtree=new i.Buf16(2*(2*N+1)),this.bl_tree=new i.Buf16(2*(2*C+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(B+1),this.heap=new i.Buf16(2*I+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*I+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=z,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?R:H,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),p):W(e,g)}function he(e){var t,n=de(e);return n===p&&((t=e.state).window_size=2*t.w_size,J(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=M-1,t.match_available=0,t.ins_h=0),n}function ue(e,t,n,r,a,s){if(!e)return g;var o=1;if(t===w&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>A||n!==L||r<8||r>15||t<0||t>9||s<0||s>k)return W(e,g);8===r&&(r=9);var l=new ce;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+M-1)/M),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,he(e)}r=[new le(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===c)return Y;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return Y;if(e.strstart-e.block_start>=e.w_size-F&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===u?(te(e,!0),0===e.strm.avail_out?X:$):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),Y)}),new le(4,4,8,4,se),new le(4,5,16,8,se),new le(4,6,32,32,se),new le(4,4,16,16,oe),new le(8,16,32,32,oe),new le(8,16,128,128,oe),new le(8,32,128,256,oe),new le(32,128,258,1024,oe),new le(32,258,258,4096,oe)],t.deflateInit=function(e,t){return ue(e,t,L,E,T,S)},t.deflateInit2=ue,t.deflateReset=he,t.deflateResetKeep=de,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g},t.deflate=function(e,t){var n,i,s,l;if(!e||!e.state||t>f||t<0)return e?W(e,g):g;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===K&&t!==u)return W(e,0===e.avail_out?b:g);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===R)if(2===i.wrap)e.adler=0,ne(i,31),ne(i,139),ne(i,8),i.gzhead?(ne(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ne(i,255&i.gzhead.time),ne(i,i.gzhead.time>>8&255),ne(i,i.gzhead.time>>16&255),ne(i,i.gzhead.time>>24&255),ne(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),ne(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ne(i,255&i.gzhead.extra.length),ne(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=O):(ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),ne(i,G),i.status=H);else{var v=L+(i.w_bits-8<<4)<<8;v|=(i.strategy>=_||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=q),v+=31-v%31,i.status=H,re(i,v),0!==i.strstart&&(re(i,e.adler>>>16),re(i,65535&e.adler)),e.adler=1}if(i.status===O)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending!==i.pending_buf_size));)ne(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=P)}else i.status=P;if(i.status===P)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=Z)}else i.status=Z;if(i.status===Z)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),ee(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=o(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=j)}else i.status=j;if(i.status===j&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(ne(i,255&e.adler),ne(i,e.adler>>8&255),e.adler=0,i.status=H)):i.status=H),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(n)&&t!==u)return W(e,b);if(i.status===K&&0!==e.avail_in)return W(e,b);if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==K){var w=i.strategy===_?function(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===c)return Y;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===u?(te(e,!0),0===e.strm.avail_out?X:$):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:V}(i,t):i.strategy===x?function(e,t){for(var n,r,i,s,o=e.window;;){if(e.lookahead<=U){if(ae(e),e.lookahead<=U&&t===c)return Y;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=M&&e.strstart>0&&(r=o[i=e.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){s=e.strstart+U;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=U-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=M?(n=a._tr_tally(e,1,e.match_length-M),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===u?(te(e,!0),0===e.strm.avail_out?X:$):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:V}(i,t):r[i.level].func(i,t);if(w!==X&&w!==$||(i.status=K),w===Y||w===X)return 0===e.avail_out&&(i.last_flush=-1),p;if(w===V&&(t===d?a._tr_align(i):t!==f&&(a._tr_stored_block(i,0,0,!1),t===h&&(J(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==u?p:i.wrap<=0?m:(2===i.wrap?(ne(i,255&e.adler),ne(i,e.adler>>8&255),ne(i,e.adler>>16&255),ne(i,e.adler>>24&255),ne(i,255&e.total_in),ne(i,e.total_in>>8&255),ne(i,e.total_in>>16&255),ne(i,e.total_in>>24&255)):(re(i,e.adler>>>16),re(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:m)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==R&&t!==O&&t!==P&&t!==Z&&t!==j&&t!==H&&t!==K?W(e,g):(e.state=null,t===H?W(e,v):p):g},t.deflateSetDictionary=function(e,t){var n,r,a,o,l,c,d,h,u=t.length;if(!e||!e.state)return g;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==R||n.lookahead)return g;for(1===o&&(e.adler=s(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===o&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,u-n.w_size,n.w_size,0),t=h,u=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=u,e.next_in=0,e.input=t,ae(n);n.lookahead>=M;){r=n.strstart,a=n.lookahead-(M-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+M-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=M-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=M-1,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=o,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(0),i=4,a=0,s=1,o=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,d=1,h=2,u=29,f=256,p=f+1+u,m=30,g=19,v=2*p+1,b=15,w=16,y=7,_=256,x=16,k=17,S=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(p+2));l(T);var I=new Array(2*m);l(I);var N=new Array(512);l(N);var C=new Array(256);l(C);var D=new Array(u);l(D);var B,M,U,F=new Array(m);function q(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function R(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function O(e){return e<256?N[e]:N[256+(e>>>7)]}function P(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function Z(e,t,n){e.bi_valid>w-n?(e.bi_buf|=t<<e.bi_valid&65535,P(e,e.bi_buf),e.bi_buf=t>>w-e.bi_valid,e.bi_valid+=n-w):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function j(e,t,n){Z(e,n[2*t],n[2*t+1])}function H(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function K(e,t,n){var r,i,a=new Array(b+1),s=0;for(r=1;r<=b;r++)a[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=H(a[o]++,o))}}function Y(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){e.bi_valid>8?P(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function X(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function $(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&X(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!X(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function G(e,t,n){var r,i,a,s,o=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?j(e,i,t):(j(e,(a=C[i])+f+1,t),0!==(s=z[a])&&Z(e,i-=D[a],s),j(e,a=O(--r),n),0!==(s=L[a])&&Z(e,r-=F[a],s))}while(o<e.last_lit);j(e,_,t)}function W(e,t){var n,r,i,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=v,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)$(e,a,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,$(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,s,o,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,h=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=b;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<v;n++)(a=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(a=p,m++),l[2*r+1]=a,r>c||(e.bl_count[a]++,s=0,r>=f&&(s=u[r-f]),o=l[2*r],e.opt_len+=o*(a+s),h&&(e.static_len+=o*(d[2*r+1]+s)));if(0!==m){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}(e,t),K(a,c,e.bl_count)}function Q(e,t,n){var r,i,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++o<l&&i===s||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*x]++):o<=10?e.bl_tree[2*k]++:e.bl_tree[2*S]++,o=0,a=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))}function J(e,t,n){var r,i,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++o<l&&i===s)){if(o<c)do{j(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(j(e,i,e.bl_tree),o--),j(e,x,e.bl_tree),Z(e,o-3,2)):o<=10?(j(e,k,e.bl_tree),Z(e,o-3,3)):(j(e,S,e.bl_tree),Z(e,o-11,7));o=0,a=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}}l(F);var ee=!1;function te(e,t,n,i){Z(e,(c<<1)+(i?1:0),3),function(e,t,n,i){V(e),i&&(P(e,n),P(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,r,i,a=new Array(b+1);for(n=0,r=0;r<u-1;r++)for(D[r]=n,e=0;e<1<<z[r];e++)C[n++]=r;for(C[n-1]=r,i=0,r=0;r<16;r++)for(F[r]=i,e=0;e<1<<L[r];e++)N[i++]=r;for(i>>=7;r<m;r++)for(F[r]=i<<7,e=0;e<1<<L[r]-7;e++)N[256+i++]=r;for(t=0;t<=b;t++)a[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,a[8]++;for(;e<=255;)T[2*e+1]=9,e++,a[9]++;for(;e<=279;)T[2*e+1]=7,e++,a[7]++;for(;e<=287;)T[2*e+1]=8,e++,a[8]++;for(K(T,p+1,a),e=0;e<m;e++)I[2*e+1]=5,I[2*e]=H(e,5);B=new q(T,z,f+1,p,b),M=new q(I,L,0,m,b),U=new q(new Array(0),A,0,g,y)}(),ee=!0),e.l_desc=new R(e.dyn_ltree,B),e.d_desc=new R(e.dyn_dtree,M),e.bl_desc=new R(e.bl_tree,U),e.bi_buf=0,e.bi_valid=0,Y(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,r){var l,c,u=0;e.level>0?(e.strm.data_type===o&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return s;return a}(e)),W(e,e.l_desc),W(e,e.d_desc),u=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),W(e,e.bl_desc),t=g-1;t>=3&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,r):e.strategy===i||c===l?(Z(e,(d<<1)+(r?1:0),3),G(e,T,I)):(Z(e,(h<<1)+(r?1:0),3),function(e,t,n,r){var i;for(Z(e,t-257,5),Z(e,n-1,5),Z(e,r-4,4),i=0;i<r;i++)Z(e,e.bl_tree[2*E[i]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),G(e,e.dyn_ltree,e.dyn_dtree)),Y(e),r&&V(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+f+1)]++,e.dyn_dtree[2*O(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){Z(e,d<<1,3),j(e,_,T),function(e){16===e.bi_valid?(P(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(22),i=n(0),a=n(6),s=n(8),o=n(3),l=n(7),c=n(25),d=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(o[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(o[n])}function u(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}h.prototype.push=function(e,t){var n,o,l,c,h,u=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?u.input=a.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new i.Buf8(f),u.next_out=0,u.avail_out=f),(n=r.inflate(u,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===m&&(n=s.Z_OK,m=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&n!==s.Z_STREAM_END&&(0!==u.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(u.output,u.next_out),c=u.next_out-l,h=a.buf2string(u.output,l),u.next_out=c,u.avail_out=f-c,c&&i.arraySet(u.output,u.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(m=!0)}while((u.avail_in>0||0===u.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),u.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=u,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.ungzip=u},function(e,t,n){"use strict";var r=n(0),i=n(4),a=n(5),s=n(23),o=n(24),l=0,c=1,d=2,h=4,u=5,f=6,p=0,m=1,g=2,v=-2,b=-3,w=-4,y=-5,_=8,x=1,k=2,S=3,z=4,L=5,A=6,E=7,T=8,I=9,N=10,C=11,D=12,B=13,M=14,U=15,F=16,q=17,R=18,O=19,P=20,Z=21,j=22,H=23,K=24,Y=25,V=26,X=27,$=28,G=29,W=30,Q=31,J=32,ee=852,te=592,ne=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):v}function se(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):v}function oe(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,se(e))):v}function le(e,t){var n,r;return e?(r=new ie,e.state=r,r.window=null,(n=oe(e,t))!==p&&(e.state=null),n):v}var ce,de,he=!0;function ue(e){if(he){var t;for(ce=new r.Buf32(512),de=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(c,e.lens,0,288,ce,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(d,e.lens,0,32,de,0,e.work,{bits:5}),he=!1}e.lencode=ce,e.lenbits=9,e.distcode=de,e.distbits=5}function fe(e,t,n,i){var a,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>i&&(a=i),r.arraySet(s.window,t,n-i,a,s.wnext),(i-=a)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}t.inflateReset=se,t.inflateReset2=oe,t.inflateResetKeep=ae,t.inflateInit=function(e){return le(e,ne)},t.inflateInit2=le,t.inflate=function(e,t){var n,ee,te,ne,ie,ae,se,oe,le,ce,de,he,pe,me,ge,ve,be,we,ye,_e,xe,ke,Se,ze,Le=0,Ae=new r.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(n=e.state).mode===D&&(n.mode=B),ie=e.next_out,te=e.output,se=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,oe=n.hold,le=n.bits,ce=ae,de=se,ke=p;e:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=B;break}for(;le<16;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===oe){n.check=0,Ae[0]=255&oe,Ae[1]=oe>>>8&255,n.check=a(n.check,Ae,2,0),oe=0,le=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&oe)<<8)+(oe>>8))%31){e.msg="incorrect header check",n.mode=W;break}if((15&oe)!==_){e.msg="unknown compression method",n.mode=W;break}if(le-=4,xe=8+(15&(oe>>>=4)),0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=W;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&oe?N:D,oe=0,le=0;break;case k:for(;le<16;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(n.flags=oe,(255&n.flags)!==_){e.msg="unknown compression method",n.mode=W;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=W;break}n.head&&(n.head.text=oe>>8&1),512&n.flags&&(Ae[0]=255&oe,Ae[1]=oe>>>8&255,n.check=a(n.check,Ae,2,0)),oe=0,le=0,n.mode=S;case S:for(;le<32;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=oe),512&n.flags&&(Ae[0]=255&oe,Ae[1]=oe>>>8&255,Ae[2]=oe>>>16&255,Ae[3]=oe>>>24&255,n.check=a(n.check,Ae,4,0)),oe=0,le=0,n.mode=z;case z:for(;le<16;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&oe,n.head.os=oe>>8),512&n.flags&&(Ae[0]=255&oe,Ae[1]=oe>>>8&255,n.check=a(n.check,Ae,2,0)),oe=0,le=0,n.mode=L;case L:if(1024&n.flags){for(;le<16;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}n.length=oe,n.head&&(n.head.extra_len=oe),512&n.flags&&(Ae[0]=255&oe,Ae[1]=oe>>>8&255,n.check=a(n.check,Ae,2,0)),oe=0,le=0}else n.head&&(n.head.extra=null);n.mode=A;case A:if(1024&n.flags&&((he=n.length)>ae&&(he=ae),he&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,he,xe)),512&n.flags&&(n.check=a(n.check,ee,he,ne)),ae-=he,ne+=he,n.length-=he),n.length))break e;n.length=0,n.mode=E;case E:if(2048&n.flags){if(0===ae)break e;he=0;do{xe=ee[ne+he++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe))}while(xe&&he<ae);if(512&n.flags&&(n.check=a(n.check,ee,he,ne)),ae-=he,ne+=he,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=T;case T:if(4096&n.flags){if(0===ae)break e;he=0;do{xe=ee[ne+he++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe))}while(xe&&he<ae);if(512&n.flags&&(n.check=a(n.check,ee,he,ne)),ae-=he,ne+=he,xe)break e}else n.head&&(n.head.comment=null);n.mode=I;case I:if(512&n.flags){for(;le<16;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(oe!==(65535&n.check)){e.msg="header crc mismatch",n.mode=W;break}oe=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=D;break;case N:for(;le<32;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}e.adler=n.check=re(oe),oe=0,le=0,n.mode=C;case C:if(0===n.havedict)return e.next_out=ie,e.avail_out=se,e.next_in=ne,e.avail_in=ae,n.hold=oe,n.bits=le,g;e.adler=n.check=1,n.mode=D;case D:if(t===u||t===f)break e;case B:if(n.last){oe>>>=7&le,le-=7&le,n.mode=X;break}for(;le<3;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}switch(n.last=1&oe,le-=1,3&(oe>>>=1)){case 0:n.mode=M;break;case 1:if(ue(n),n.mode=P,t===f){oe>>>=2,le-=2;break e}break;case 2:n.mode=q;break;case 3:e.msg="invalid block type",n.mode=W}oe>>>=2,le-=2;break;case M:for(oe>>>=7&le,le-=7&le;le<32;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if((65535&oe)!=(oe>>>16^65535)){e.msg="invalid stored block lengths",n.mode=W;break}if(n.length=65535&oe,oe=0,le=0,n.mode=U,t===f)break e;case U:n.mode=F;case F:if(he=n.length){if(he>ae&&(he=ae),he>se&&(he=se),0===he)break e;r.arraySet(te,ee,ne,he,ie),ae-=he,ne+=he,se-=he,ie+=he,n.length-=he;break}n.mode=D;break;case q:for(;le<14;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&oe),oe>>>=5,le-=5,n.ndist=1+(31&oe),oe>>>=5,le-=5,n.ncode=4+(15&oe),oe>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=W;break}n.have=0,n.mode=R;case R:for(;n.have<n.ncode;){for(;le<3;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}n.lens[Ee[n.have++]]=7&oe,oe>>>=3,le-=3}for(;n.have<19;)n.lens[Ee[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},ke=o(l,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,ke){e.msg="invalid code lengths set",n.mode=W;break}n.have=0,n.mode=O;case O:for(;n.have<n.nlen+n.ndist;){for(;ve=(Le=n.lencode[oe&(1<<n.lenbits)-1])>>>16&255,be=65535&Le,!((ge=Le>>>24)<=le);){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(be<16)oe>>>=ge,le-=ge,n.lens[n.have++]=be;else{if(16===be){for(ze=ge+2;le<ze;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(oe>>>=ge,le-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=W;break}xe=n.lens[n.have-1],he=3+(3&oe),oe>>>=2,le-=2}else if(17===be){for(ze=ge+3;le<ze;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}le-=ge,xe=0,he=3+(7&(oe>>>=ge)),oe>>>=3,le-=3}else{for(ze=ge+7;le<ze;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}le-=ge,xe=0,he=11+(127&(oe>>>=ge)),oe>>>=7,le-=7}if(n.have+he>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=W;break}for(;he--;)n.lens[n.have++]=xe}}if(n.mode===W)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=W;break}if(n.lenbits=9,Se={bits:n.lenbits},ke=o(c,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,ke){e.msg="invalid literal/lengths set",n.mode=W;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},ke=o(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,ke){e.msg="invalid distances set",n.mode=W;break}if(n.mode=P,t===f)break e;case P:n.mode=Z;case Z:if(ae>=6&&se>=258){e.next_out=ie,e.avail_out=se,e.next_in=ne,e.avail_in=ae,n.hold=oe,n.bits=le,s(e,de),ie=e.next_out,te=e.output,se=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,oe=n.hold,le=n.bits,n.mode===D&&(n.back=-1);break}for(n.back=0;ve=(Le=n.lencode[oe&(1<<n.lenbits)-1])>>>16&255,be=65535&Le,!((ge=Le>>>24)<=le);){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(ve&&0==(240&ve)){for(we=ge,ye=ve,_e=be;ve=(Le=n.lencode[_e+((oe&(1<<we+ye)-1)>>we)])>>>16&255,be=65535&Le,!(we+(ge=Le>>>24)<=le);){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}oe>>>=we,le-=we,n.back+=we}if(oe>>>=ge,le-=ge,n.back+=ge,n.length=be,0===ve){n.mode=V;break}if(32&ve){n.back=-1,n.mode=D;break}if(64&ve){e.msg="invalid literal/length code",n.mode=W;break}n.extra=15&ve,n.mode=j;case j:if(n.extra){for(ze=n.extra;le<ze;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}n.length+=oe&(1<<n.extra)-1,oe>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=H;case H:for(;ve=(Le=n.distcode[oe&(1<<n.distbits)-1])>>>16&255,be=65535&Le,!((ge=Le>>>24)<=le);){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(0==(240&ve)){for(we=ge,ye=ve,_e=be;ve=(Le=n.distcode[_e+((oe&(1<<we+ye)-1)>>we)])>>>16&255,be=65535&Le,!(we+(ge=Le>>>24)<=le);){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}oe>>>=we,le-=we,n.back+=we}if(oe>>>=ge,le-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=W;break}n.offset=be,n.extra=15&ve,n.mode=K;case K:if(n.extra){for(ze=n.extra;le<ze;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}n.offset+=oe&(1<<n.extra)-1,oe>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=W;break}n.mode=Y;case Y:if(0===se)break e;if(he=de-se,n.offset>he){if((he=n.offset-he)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=W;break}he>n.wnext?(he-=n.wnext,pe=n.wsize-he):pe=n.wnext-he,he>n.length&&(he=n.length),me=n.window}else me=te,pe=ie-n.offset,he=n.length;he>se&&(he=se),se-=he,n.length-=he;do{te[ie++]=me[pe++]}while(--he);0===n.length&&(n.mode=Z);break;case V:if(0===se)break e;te[ie++]=n.length,se--,n.mode=Z;break;case X:if(n.wrap){for(;le<32;){if(0===ae)break e;ae--,oe|=ee[ne++]<<le,le+=8}if(de-=se,e.total_out+=de,n.total+=de,de&&(e.adler=n.check=n.flags?a(n.check,te,de,ie-de):i(n.check,te,de,ie-de)),de=se,(n.flags?oe:re(oe))!==n.check){e.msg="incorrect data check",n.mode=W;break}oe=0,le=0}n.mode=$;case $:if(n.wrap&&n.flags){for(;le<32;){if(0===ae)break e;ae--,oe+=ee[ne++]<<le,le+=8}if(oe!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=W;break}oe=0,le=0}n.mode=G;case G:ke=m;break e;case W:ke=b;break e;case Q:return w;case J:default:return v}return e.next_out=ie,e.avail_out=se,e.next_in=ne,e.avail_in=ae,n.hold=oe,n.bits=le,(n.wsize||de!==e.avail_out&&n.mode<W&&(n.mode<X||t!==h))&&fe(e,e.output,e.next_out,de-e.avail_out)?(n.mode=Q,w):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,n.total+=de,n.wrap&&de&&(e.adler=n.check=n.flags?a(n.check,te,de,e.next_out-de):i(n.check,te,de,e.next_out-de)),e.data_type=n.bits+(n.last?64:0)+(n.mode===D?128:0)+(n.mode===P||n.mode===U?256:0),(0===ce&&0===de||t===h)&&ke===p&&(ke=y),ke)},t.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?v:(n.head=t,t.done=!1,p):v},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==C?v:n.mode===C&&i(1,t,r,0)!==n.check?b:fe(e,t,r,r)?(n.mode=Q,w):(n.havedict=1,p):v},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,a,s,o,l,c,d,h,u,f,p,m,g,v,b,w,y,_,x,k,S,z,L;n=e.state,r=e.next_in,z=e.input,i=r+(e.avail_in-5),a=e.next_out,L=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,h=n.wnext,u=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{p<15&&(f+=z[r++]<<p,p+=8,f+=z[r++]<<p,p+=8),w=m[f&v];t:for(;;){if(f>>>=y=w>>>24,p-=y,0===(y=w>>>16&255))L[a++]=65535&w;else{if(!(16&y)){if(0==(64&y)){w=m[(65535&w)+(f&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&w,(y&=15)&&(p<y&&(f+=z[r++]<<p,p+=8),_+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=z[r++]<<p,p+=8,f+=z[r++]<<p,p+=8),w=g[f&b];n:for(;;){if(f>>>=y=w>>>24,p-=y,!(16&(y=w>>>16&255))){if(0==(64&y)){w=g[(65535&w)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&w,p<(y&=15)&&(f+=z[r++]<<p,(p+=8)<y&&(f+=z[r++]<<p,p+=8)),(x+=f&(1<<y)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=y,p-=y,x>(y=a-s)){if((y=x-y)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,S=u,0===h){if(k+=c-y,y<_){_-=y;do{L[a++]=u[k++]}while(--y);k=a-x,S=L}}else if(h<y){if(k+=c+h-y,(y-=h)<_){_-=y;do{L[a++]=u[k++]}while(--y);if(k=0,h<_){_-=y=h;do{L[a++]=u[k++]}while(--y);k=a-x,S=L}}}else if(k+=h-y,y<_){_-=y;do{L[a++]=u[k++]}while(--y);k=a-x,S=L}for(;_>2;)L[a++]=S[k++],L[a++]=S[k++],L[a++]=S[k++],_-=3;_&&(L[a++]=S[k++],_>1&&(L[a++]=S[k++]))}else{k=a-x;do{L[a++]=L[k++],L[a++]=L[k++],L[a++]=L[k++],_-=3}while(_>2);_&&(L[a++]=L[k++],_>1&&(L[a++]=L[k++]))}break}}break}}while(r<i&&a<o);r-=_=p>>3,f&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<o?o-a+257:257-(a-o),n.hold=f,n.bits=p}},function(e,t,n){"use strict";var r=n(0),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,d,h,u){var f,p,m,g,v,b,w,y,_,x=u.bits,k=0,S=0,z=0,L=0,A=0,E=0,T=0,I=0,N=0,C=0,D=null,B=0,M=new r.Buf16(16),U=new r.Buf16(16),F=null,q=0;for(k=0;k<=15;k++)M[k]=0;for(S=0;S<l;S++)M[t[n+S]]++;for(A=x,L=15;L>=1&&0===M[L];L--);if(A>L&&(A=L),0===L)return c[d++]=20971520,c[d++]=20971520,u.bits=1,0;for(z=1;z<L&&0===M[z];z++);for(A<z&&(A=z),I=1,k=1;k<=15;k++)if(I<<=1,(I-=M[k])<0)return-1;if(I>0&&(0===e||1!==L))return-1;for(U[1]=0,k=1;k<15;k++)U[k+1]=U[k]+M[k];for(S=0;S<l;S++)0!==t[n+S]&&(h[U[t[n+S]]++]=S);if(0===e?(D=F=h,b=19):1===e?(D=i,B-=257,F=a,q-=257,b=256):(D=s,F=o,b=-1),C=0,S=0,k=z,v=d,E=A,T=0,m=-1,g=(N=1<<A)-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){w=k-T,h[S]<b?(y=0,_=h[S]):h[S]>b?(y=F[q+h[S]],_=D[B+h[S]]):(y=96,_=0),f=1<<k-T,z=p=1<<E;do{c[v+(C>>T)+(p-=f)]=w<<24|y<<16|_|0}while(0!==p);for(f=1<<k-1;C&f;)f>>=1;if(0!==f?(C&=f-1,C+=f):C=0,S++,0==--M[k]){if(k===L)break;k=t[n+h[S]]}if(k>A&&(C&g)!==m){for(0===T&&(T=A),v+=z,I=1<<(E=k-T);E+T<L&&!((I-=M[E+T])<=0);)E++,I<<=1;if(N+=1<<E,1===e&&N>852||2===e&&N>592)return 1;c[m=C&g]=A<<24|E<<16|v-d|0}}return 0!==C&&(c[v+C]=k-T<<24|64<<16|0),u.bits=A,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){var r=n(27);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"/* --------------preview----------------- */\n\n.preview-menu {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n\n.preview-menu .preview-container-wrapper {\n  position: relative;\n}\n\n.preview-container {\n  position: relative;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABlBMVEVMTExVVVUnhsEkAAAAHUlEQVR4AWOAAUYoQOePEAUj3v9oYDQ9gMBoegAAJFwCAbLaTIMAAAAASUVORK5CYII=') repeat;\n}\n\n.preview-container-wrapper:fullscreen .preview-container {\n  margin: 0 auto;\n  height: 100vh;\n  width: 100vh;\n}\n\n.preview-container .preview {\n  width: 200px;\n  height: 200px;\n  vertical-align: bottom;\n  image-rendering: pixelated;\n}\n\n.preview-container-wrapper:fullscreen .preview {\n  height: 100%;\n  width: 100%;\n}\n\n.preview-container .full-screen-button {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  padding: 0;\n  color: #fff;\n  background: none;\n  border: none;\n  opacity: 0;\n  transition: 0.2 ease-in;\n}\n\n.preview-container-wrapper:fullscreen .full-screen-button {\n  top: 15px;\n  right: 15px;\n}\n\n.preview-container:hover .full-screen-button {\n  opacity: 0.6;\n}\n\n.preview-container .full-screen-button i {\n  font-size: 40px;\n}\n\n.preview-container-wrapper:fullscreen .full-screen-button i {\n  font-size: 60px;\n}\n\n.preview-container .full-screen-button:hover {\n  opacity: 1;\n}\n\n.animation-speed {\n  display: flex;\n  height: 25px;\n  background: rgba(0, 0, 0, 0.3);\n}\n\n.preview-container-wrapper:fullscreen .animation-speed {\n  position: absolute;\n  left: 15px;\n  bottom: 30px;\n}\n\n.animation-speed .FPS-range {\n  width: 60%;\n}\n\n.animation-speed .FPS-range::-webkit-slider-runnable-track {\n  width: 60%;\n  height: 5px;\n  cursor: pointer;\n  background: rgba(231, 207, 84, 0.7);\n  border-radius: 1.3px;\n  border: 0.2px solid #010101;\n}\n.animation-speed .FPS-range::-webkit-slider-thumb {\n  border: 1px solid #3C7797;\n  height: 18px;\n  width: 6px;\n  border-radius: 15px;\n  background: #fff;\n  cursor: pointer;\n  margin-top: -6px;\n}\n\n\n.animation-speed .FPS-label {\n  margin-left: 10px;\n  font-family: Arial, Helvetica, sans-serif;\n  color: #fff;\n  font-weight: 700;\n  font-size: 16px;\n  text-align: center;\n  line-height: 25px;\n}\n\n.preview-menu .export {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 5px 10px;\n  background: rgba(0, 0, 0, 0.3);\n}\n\n.export .export-title {\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  color: #fff;\n}\n\n.export button {\n  padding: 1px 5px;\n  margin-left: 15px;\n  font-size: 15px;\n  font-family: Arial, Helvetica, sans-serif;\n  color: #fff;\n  background: none;\n  border: 1px solid #fff;\n  border-radius: 3px;\n  cursor: pointer;\n}\n\n.export button:hover {\n  color: rgb(231, 207, 84);\n  border: 1px solid rgb(231, 207, 84);\n}\n\n.canvas-menu {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 15px;\n}\n\n.canvas-size {\n  display: flex;\n  justify-self: flex-end;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 30px;\n}\n\n.canvas-size .size {\n  align-content: center;\n  height: 20px;\n  width: 65px;\n  padding: 0;\n  margin-bottom: 10px;\n  color: #fff;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 15px;\n  text-align: center;\n  border: 2px solid #3C7797;\n  background: none;\n}\n\n.canvas-size .active {\n  color: rgb(231, 207, 84);\n  border: 2px solid rgb(231, 207, 84);\n}\n\n.menu .canvas-info {\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 15px;\n  color: rgb(231, 207, 84);\n}\n\n.canvas-info span {\n  margin-bottom: 5px;\n}\n\n.canvas-info .coords {\n  display: none;\n}\n",""])},function(e,t,n){var r=n(29);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"/* ------------layers container-------------- */\n\n.layers-container {\n  z-index: 10;\n  display: flex;\n  width: 100%;\n  height: calc(100vh - 58px);\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  background: #A2A2A2;\n}\n\n.canvas-container {\n  position: relative;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABlBMVEVMTExVVVUnhsEkAAAAHUlEQVR4AWOAAUYoQOePEAUj3v9oYDQ9gMBoegAAJFwCAbLaTIMAAAAASUVORK5CYII=') repeat\n}\n\n.canvas-container .layer,\n.canvas-container .hover-layer,\n.canvas-container .additional-layer {\n  z-index: 50;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  vertical-align: bottom;\n  image-rendering: pixelated;\n}\n\n.canvas-container .hover-layer {\n  z-index: 60;\n}\n\n.canvas-container .additional-layer {\n  z-index: 20;\n  opacity: 0.15;\n}\n\n/* ------------layers menu-------------- */\n\n.menu .layers-menu {\n  margin-top: 20px;\n  border: 2px solid #6F62A6;\n  border-radius: 3px;\n  background: #27223A;\n}\n\n.layers-menu .layers-control {\n  padding: 1px;\n  display: flex;\n  justify-content: space-between;\n  background: #040721;\n}\n\n.layers-control .title {\n  align-self: center;\n  margin: 0 10px;\n  font-family: Arial, Helvetica, sans-serif;\n  color: #fff;\n  font-size: 20px;\n}\n\n.layers-menu .layers-control button {\n  padding: 0;\n  width: 25px;\n  height: 25px;\n  color: #fff;\n  font-size: 15px;\n  line-height: 25px;\n  background: none;\n  border: 1px solid #5B6199;\n  border-radius: 3px;\n  cursor: pointer;\n}\n\n.layers-menu .layers-control button:hover {\n  background: #5B6199;\n  border: 1px solid #547F97;\n}\n\n.layers-menu .layers-list {\n  max-height: calc(100vh - 444px);\n  overflow: scroll;\n  color: #fff;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n}\n\n.layers-menu .layers-list .layer {\n  line-height: 25px;\n  padding-left: 25px;\n  border-top: 1px solid #5B6199;\n  cursor: pointer;\n}\n\n.layers-menu .layers-list .active {\n  background: rgb(91, 78, 146);\n}\n",""])},function(e,t,n){var r=n(31);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"body {\n  background: #09212E;\n}\n\n.container {\n  margin: 0 auto;\n  max-width: 1440px;\n}\n /* -------------page header-------------------- */\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px 10px;\n  margin-bottom: 10px;\n  background: #1D3847;\n}\n\n.page-header .piskel-clone {\n  cursor: default;\n  font-family: Arial;\n  font-size: 30px;\n  color: rgba(110, 144, 163, 1);\n  text-shadow: 0 -1px 0 #000;\n}\n\n.page-header .auth {\n  display: flex;\n  align-items: center;\n}\n\n.page-header .profile-container {\n  display: none;\n  justify-content: space-between;\n  align-items: center;\n  padding: 3px 10px;\n  border-radius: 2px;\n  color: black;\n  background-color: gold;\n}\n\n.profile-container .profile-image {\n  width: 25px;\n  height: 25px;\n}\n\n.profile-container .profile-username {\n  margin-right: 15px;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  color: #000;\n}\n\n /* ------------------main-------------------- */\n\nmain {\n  display: flex;\n  justify-content: space-between;\n}\n\n.menu {\n  width: 200px;\n  max-height: calc(100vh - 58px);\n  margin-right: 10px;\n  margin-left: 10px;\n}\n",""])},function(e,t,n){var r=n(33);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,'html, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: \'\';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\nbutton:active, button:focus {\n\toutline: none !important;\n  }\nbutton::-moz-focus-inner {\nborder: 0 !important;\n}\n\n:active, :hover, :focus {\n  outline: 0;\n  outline-offset: 0;\n}\n\ninput[type="color"] {\n\t-webkit-appearance: none;\n  border: none;\n  background: none;\n}\ninput[type="color"]::-webkit-color-swatch-wrapper {\n\tpadding: 0;\n}\ninput[type="color"]::-webkit-color-swatch {\n\tborder: none;\n}\n\ninput[type=range] {\n  -webkit-appearance: none;\n  width: 100%;\n  background: transparent;\n}\n\ninput[type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n}\n\ninput[type=range]:focus {\n  outline: none;\n}\n\ninput[type=range]::-ms-track {\n  width: 100%;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n::-webkit-scrollbar {\n  width: 0;\n  height: 0; /* Remove scrollbar space */\n  background: transparent;  /* Optional: just make scrollbar invisible */\n}\n/* Optional: show position indicator in red */\n/* ::-webkit-scrollbar-thumb {\n  background: #FF0000;\n} */\n',""])},function(e,t,n){"use strict";function r(e,t,n,r,i,a){if(e>=n.width)return;const{data:s}=r;let o=i;o=o.replace(/[^\d,]/g,"").split(",");let l=4*(t*n.width+e);for(let e=0;e<4;e+=1)s[l+e]=+o[e];for(let r=1;r<a;r+=1){if(e-r>=0&&e-r<n.width){l=4*((t-r)*n.width+(e-r));for(let e=0;e<4;e+=1)s[l+e]=+o[e]}for(let i=1;i<=r;i+=1)if(!(e-r+i<0||e-r+i>=n.width)){l=4*((t-r)*n.width+(e-r+i));for(let e=0;e<4;e+=1)s[l+e]=+o[e];if(!(e-r<0||e-r>=n.width)){l=4*((t-r+i)*n.width+(e-r));for(let e=0;e<4;e+=1)s[l+e]=+o[e]}}}}function i(e,t,n,r,i,a,s){if(e>=n.width)return;const{data:o}=r;let l,c;e%2==t%2?(l=i,c=a):(l=a,c=i);let d=l;d=d.replace(/[^\d,]/g,"").split(",");let h=c;h=h.replace(/[^\d,]/g,"").split(",");let u,f=4*(t*n.width+e);for(let e=0;e<4;e+=1)o[f+e]=+d[e];for(let r=1;r<s;r+=1){if(e-r>=0&&e-r<n.width){f=4*((t-r)*n.width+(e-r));for(let e=0;e<4;e+=1)o[f+e]=+d[e]}for(let i=1;i<=r;i+=1)if(!(e-r+i<0||e-r+i>=n.width)){f=4*((t-r)*n.width+(e-r+i)),u=i%2==0?d:h;for(let e=0;e<4;e+=1)o[f+e]=+u[e];if(!(e-r<0||e-r>=n.width)){f=4*((t-r+i)*n.width+(e-r)),u=i%2==0?d:h;for(let e=0;e<4;e+=1)o[f+e]=+u[e]}}}}function a(e,t,n,r,i,a){if(e>=n.width)return;const{data:s}=r;let o=4*(t*n.width+e);for(let e=0;e<3;e+=1)s[o+e]+=a;for(let r=1;r<i;r+=1){if(e-r>=0&&e-r<n.width){o=4*((t-r)*n.width+(e-r));for(let e=0;e<3;e+=1)s[o+e]+=a}for(let i=1;i<=r;i+=1)if(!(e-r+i<0||e-r+i>=n.width)){o=4*((t-r)*n.width+(e-r+i));for(let e=0;e<3;e+=1)s[o+e]+=a;if(!(e-r<0||e-r>=n.width)){o=4*((t-r+i)*n.width+(e-r));for(let e=0;e<3;e+=1)s[o+e]+=a}}}}function s(e,t,n){const r=document.createElement("BUTTON");return r.classList.add(e),r.innerHTML=t,n&&(r.onclick=n),r}function o(e,t,n,a,s,o,l,c,d){const h=Math.abs(n-e),u=e<n?1:-1,f=Math.abs(a-t),p=t<a?1:-1;let m=(h>f?h:-f)/2,g=e,v=t;for(;c&&!(g<0||g>=s.width)&&(d?i(g,v,s,o,l,d,c):r(g,v,s,o,l,c),g!==n||v!==a);){const e=m;e>-h&&(m-=f,g+=u),e<f&&(m+=h,v+=p)}}function l(e){const t=document.querySelector(e),n=t.getContext("2d");return{canv:t,ctx:n}}function c(e,t){const n=+getComputedStyle(e).width.slice(0,-2)/e.width;return{x:Math.round(t.offsetX/n),y:Math.round(t.offsetY/n)}}function d(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}n.r(t);const h=(e,t,n)=>r=>{const i=r.currentTarget.parentNode.firstChild;n.style.position="absolute";const a=document.createElement("DIV");a.classList.add("target-position"),t.insertBefore(a,n),document.onmousemove=((e,t)=>n=>{const r=n.pageY-e.pageY;t.style.marginTop=`${r-115}px`})(r,n),document.addEventListener("mouseup",((e,t,n,r,i)=>(function a(s){let o;if(s.target.classList.contains("frame"))o=s.target;else if(s.target.parentNode.classList.contains("preview-container"))o=s.target.parentNode.firstChild;else{if(!s.target.parentNode.parentNode.classList.contains("preview-container"))return t.removeChild(r),n.style.position="relative",n.style.marginTop="0",document.onmousemove=null,void document.removeEventListener("mouseup",a);o=s.target.parentNode.parentNode.firstChild}if(function(e){if(!e)return!1;const t=e.getContext("2d"),n=t.createImageData(e.width,e.height);t.putImageData(n,0,0)}(document.querySelector(".canvas-container .hover-layer")),o!==i){const t=o.getContext("2d"),n=t.getImageData(0,0,o.width,o.height),r=i.getContext("2d"),a=r.getImageData(0,0,i.width,i.height);if(t.putImageData(a,0,0),r.putImageData(n,0,0),r===e.frameCtx){e.frameCtx=e.currentFrame.getContext("2d");const{ctx:t}=l(".canvas-container .layer");t.putImageData(n,0,0)}else if(o===e.currentFrame){e.frameCtx=e.currentFrame.getContext("2d");const{ctx:t}=l(".canvas-container .layer");t.putImageData(a,0,0)}}t.removeChild(r),n.style.position="relative",n.style.marginTop="0",document.onmousemove=null,document.removeEventListener("mouseup",a)}))(e,t,n,a,i))},u=(e,t)=>()=>{e.deleteFrame(t)},f=(e,t)=>()=>{e.copyFrame(t)},p=e=>t=>{if("KeyN"!==t.code||t.shiftKey)if("ArrowDown"!==t.key||t.shiftKey)if("ArrowUp"!==t.key||t.shiftKey)"Backspace"!==t.key||t.shiftKey||e.deleteFrame(e.currentFrame);else{if(!e.currentFrame.parentNode.parentNode.previousSibling)return;const t=e.currentFrame.parentNode.parentNode.previousSibling.firstChild.firstChild;e.chooseFrame(null,t)}else{if(!e.currentFrame.parentNode.parentNode.nextSibling)return;const t=e.currentFrame.parentNode.parentNode.nextSibling.firstChild.firstChild;e.chooseFrame(null,t)}else e.addFrame()},m=e=>()=>{e.addFrame.call(e)};n(11);var g=class{constructor(){this.framesList=[],this.layerNumber=-1,this.currentFrame=null,this.frameCtx=null,this.selected=null,this.canvSize=32}addFrame(e,t,n){const r=document.querySelector(".frames-select .frames-container"),i=t||document.createElement("CANVAS"),a=document.createElement("DIV"),o=document.createElement("DIV");o.classList.add("preview-container-wrapper");const c=document.createElement("DIV");c.classList.add("frame-number");const d=s("delete-button",'<i class="fas fa-trash"></i>',u(this,i)),p=s("copy-button",'<i class="fas fa-copy"></i>',f(this,i)),m=s("move-button",'<i class="fas fa-arrows-alt"></i>');m.addEventListener("mousedown",h(this,r,o)),a.classList.add("preview-container"),this.frameCtx=i.getContext("2d");const g=this.frameCtx.getImageData(0,0,i.width,i.height);i.height=this.canvSize,i.width=this.canvSize,t||i.classList.add("frame"),this.currentFrame=i,a.classList.add("selected"),this.selected&&this.selected.classList.remove("selected"),this.selected=a;const{canv:v,ctx:b}=l(".canvas-container .layer"),w=b.createImageData(v.width,v.height);if(b.putImageData(w,0,0),a.appendChild(i),a.appendChild(d),a.appendChild(p),a.appendChild(m),a.appendChild(c),o.appendChild(a),e){const t=this.framesList[this.layerNumber].indexOf(e);c.innerText=t+1,r.insertBefore(o,e.parentNode.parentNode.nextSibling),this.framesList[this.layerNumber].splice(t+1,0,i)}else t?n&&(this.frameCtx.putImageData(g,0,0),c.innerText=n,r.appendChild(o)):(c.innerText=this.framesList[this.layerNumber].length+1,r.appendChild(o),this.framesList[this.layerNumber].push(i));const{ctx:y}=l(".canvas-container .additional-layer"),_=y.createImageData(i.width,i.height);return y.putImageData(_,0,0),this.framesList.forEach((e,t)=>{t!==this.layerNumber&&e[+c.innerText-1]&&y.drawImage(e[+c.innerText-1],0,0)}),i}addEvents(){document.querySelector(".frames-select .addFrame-button").addEventListener("click",m(this)),document.querySelector(".frames-select .frames-container").addEventListener("click",this.chooseFrame.bind(this)),document.addEventListener("keydown",p(this))}chooseFrame(e,t){const n=t||e.target;if(!n.classList.contains("frame"))return;if(this.currentFrame===n)return;const{canv:r,ctx:i}=l(".canvas-container .layer"),{ctx:a}=l(".canvas-container .additional-layer"),s=i.createImageData(r.width,r.height);i.putImageData(s,0,0),a.putImageData(s,0,0),i.drawImage(n,0,0);const o=this.framesList[this.layerNumber].indexOf(n);this.framesList.forEach((e,t)=>{t!==this.layerNumber&&e[o]&&a.drawImage(e[o],0,0)}),this.selected.classList.remove("selected"),n.parentNode.classList.add("selected"),this.selected=n.parentNode,this.currentFrame=n,this.frameCtx=n.getContext("2d");const{ctx:c}=l(".canvas-container .hover-layer");c.putImageData(s,0,0)}copyFrame(e){this.addFrame(e),this.frameCtx.drawImage(e,0,0);const{ctx:t}=l(".canvas-container .layer");t.drawImage(e,0,0);const n=this.framesList[this.layerNumber].indexOf(e)+1;this.changeFramesNumbers(n,1)}deleteFrame(e){if(1===this.framesList[this.layerNumber].length){const{canv:t,ctx:n}=l(".canvas-container .layer");let r=n.createImageData(t.width,t.height);n.putImageData(r,0,0);const i=e.getContext("2d");return r=i.createImageData(e.width,e.height),void i.putImageData(r,0,0)}const t=this.framesList[this.layerNumber].indexOf(e),n=document.querySelector(".frames-container");let r=e.parentNode.parentNode;n.removeChild(r),r=0===t?this.framesList[this.layerNumber][t+1].parentNode.parentNode:this.framesList[this.layerNumber][t-1].parentNode.parentNode,this.framesList[this.layerNumber].splice(t,1);let i=this.framesList[this.layerNumber].indexOf(r.firstChild.firstChild);if(0!==t&&(i+=1),this.changeFramesNumbers(i,-1),this.currentFrame===e){r.firstChild.classList.add("selected"),this.selected=r.firstChild,this.currentFrame=r.firstChild.firstChild,this.frameCtx=this.currentFrame.getContext("2d");const{canv:e,ctx:t}=l(".canvas-container .layer"),n=t.createImageData(e.width,e.height);t.putImageData(n,0,0),t.drawImage(this.currentFrame,0,0)}}changeFramesNumbers(e,t){let n=e;const r=document.getElementsByClassName("preview-container");for(;n<this.framesList[this.layerNumber].length;){const e=r[n].lastChild,i=+e.innerText+t;e.innerText=i,n+=1}}};const v=e=>{"CANVAS"===e.target.tagName&&e.preventDefault()},b=e=>{const t=document.querySelector(".tool-size .px1"),n=document.querySelector(".tool-size .px2"),r=document.querySelector(".tool-size .px3");return t.classList.add("active"),e.selectedSize=t,i=>{if("LI"===i.target.tagName&&!(e.selectedTool&&e.selectedTool.classList.contains("paint-bucket")||e.selectedTool&&e.selectedTool.classList.contains("paint-bucket-all")||e.selectedTool&&e.selectedTool.classList.contains("magic-eraser"))){switch(e.selectedSize.classList.remove("active"),e.selectedSize=i.target,e.selectedSize){case t:e.toolSize=1;break;case n:e.toolSize=2;break;case r:e.toolSize=3;break;default:e.toolSize=4}e.selectedSize.classList.add("active")}}},w=e=>t=>{e.selectedTool&&e.selectedTool.classList.contains("paint-bucket")||e.selectedTool&&e.selectedTool.classList.contains("paint-bucket-all")||e.selectedTool&&e.selectedTool.classList.contains("magic-eraser")||(e.selectedSize.classList.remove("active"),"1"===t.key?(e.toolSize=1,e.selectedSize=document.querySelector(".tool-size .px1")):"2"===t.key?(e.toolSize=2,e.selectedSize=document.querySelector(".tool-size .px2")):"3"===t.key?(e.toolSize=3,e.selectedSize=document.querySelector(".tool-size .px3")):"4"===t.key&&(e.toolSize=4,e.selectedSize=document.querySelector(".tool-size .px4")),e.selectedSize.classList.add("active"))},y=e=>{let t;return n=>{"KeyP"===n.code?(e.penTool(),t=document.querySelector(".tools-select .pen"),e.changeTool(t)):"KeyV"===n.code?(e.mirrorPenTool(),t=document.querySelector(".tools-select .mirror-pen"),e.changeTool(t)):"KeyB"===n.code?(e.paintBucketTool(),t=document.querySelector(".tools-select .paint-bucket"),e.changeTool(t)):"KeyA"===n.code?(e.paintBucketAllTool(),t=document.querySelector(".tools-select .paint-bucket-all"),e.changeTool(t)):"KeyE"===n.code?(e.eraserTool(),t=document.querySelector(".tools-select .eraser"),e.changeTool(t)):"KeyG"===n.code?(e.magicErserTool(),t=document.querySelector(".tools-select .magic-eraser"),e.changeTool(t)):"KeyS"===n.code?(e.strokeTool(),t=document.querySelector(".tools-select .stroke"),e.changeTool(t)):"KeyR"===n.code?(e.rectTool(),t=document.querySelector(".tools-select .rect"),e.changeTool(t)):"KeyC"===n.code?(e.ellipseTool(),t=document.querySelector(".tools-select .ellipse"),e.changeTool(t)):"KeyT"===n.code?(e.triangleTool(),t=document.querySelector(".tools-select .triangle"),e.changeTool(t)):"KeyD"===n.code?(e.brightnessTool(-3),t=document.querySelector(".tools-select .darken"),e.changeTool(t)):"KeyL"===n.code?(e.brightnessTool(3),t=document.querySelector(".tools-select .lighten"),e.changeTool(t)):"KeyM"===n.code?(e.moveTool(),t=document.querySelector(".tools-select .move"),e.changeTool(t)):"KeyI"===n.code?(e.ditheringTool(),t=document.querySelector(".tools-select .dithering"),e.changeTool(t)):"KeyO"===n.code&&(e.canv.parentNode.parentNode.style.cursor='url("img/cursors/dropper.png"), auto',t=document.querySelector(".tools-select .color-picker"),e.changeTool(t))}},_=(e,t,n,r)=>()=>{e.isMouseDown||(t=r.createImageData(n.width,n.height),r.putImageData(t,0,0))},x=(e,t)=>n=>{if(!e.isMouseDown)return;const{x:r,y:i}=c(e.canv,n);if(r===e.tempX&&i===e.tempY)return;const a=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),s=t||(3===n.which?e.secondColor:e.color);o(e.tempX,e.tempY,r,i,e.canv,a,s,e.toolSize),e.ctx.putImageData(a,0,0),e.tempX=r,e.tempY=i},k=e=>t=>{if(!e.isMouseDown)return;const{x:n,y:r}=c(e.canv,t);if(n===e.tempX&&r===e.tempY)return;const i=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),a=e.canv.width-n,s=e.canv.width-e.tempX,l=3===t.which?e.secondColor:e.color;o(e.tempX,e.tempY,n,r,e.canv,i,l,e.toolSize),o(s,e.tempY,a,r,e.canv,i,l,e.toolSize),e.ctx.putImageData(i,0,0),e.tempX=n,e.tempY=r},S=(e,t)=>n=>{e.switchLayers(n);const{x:r,y:i}=c(e.canv,n),a=e.ctx.getImageData(0,0,e.canv.width,e.canv.height);!function(e,t,n,r,i){const{data:a}=r,s=[{x:e,y:t}];let o=n;o=o.replace(/[^\d,]/g,"").split(",");let l=4*(t*i.width+e);const c=[];let d,h=!0;for(let e=0;e<4;e+=1)c.push(a[l+e]),a[l+e]!==+o[e]&&(h=!1);if(h)return;function u(e=0){let t=!0;for(let n=0;n<4;n+=1)if(a[l+n+e]!==c[n]){t=!1;break}return t}!function(){for(;s.length>0;){d=s.shift();const{x:e}=d;let{y:t}=d;for(l=4*(t*i.width+e);t>=0&&u();)l-=4*i.width,t-=1;l+=4*i.width,t+=1;let n=!1,r=!1;for(;t<i.height&&u();){for(let e=0;e<4;e+=1)a[l+e]=+o[e];e>0&&(u(-4)?n||(s.push({x:e-1,y:t}),n=!0):n&&(n=!1)),e<i.width-1&&(u(4)?r||(s.push({x:e+1,y:t}),r=!0):r&&(r=!1)),l+=4*i.width,t+=1}}}(),i.getContext("2d").putImageData(r,0,0)}(r,i,t||(3===n.which?e.secondColor:e.color),a,e.canv)},z=e=>t=>{const n=3===t.which?e.secondColor:e.color;e.ctx.rect(0,0,e.canv.width,e.canv.height),e.ctx.fillStyle=n,e.ctx.fill()},L=e=>t=>{e.isMouseDown=!0;const n=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),r=e.ctx.createImageData(e.canv.width,e.canv.height),i=+getComputedStyle(e.canv).width.slice(0,-2)/e.canv.width;document.onmouseup=(e=>()=>{e.isMouseDown=!1,e.canv.onmousemove=null})(e),e.canv.onmousemove=((e,t,n,r,i)=>a=>{if(!e.isMouseDown)return;const s=(a.pageX-t.pageX)/i,o=(a.pageY-t.pageY)/i,{x:l,y:d}=c(e.canv,a);e.tempX=l,e.tempY=d,e.ctx.putImageData(r,0,0),e.ctx.putImageData(n,s,o)})(e,t,n,r,i)},A=(e,t,n)=>r=>{e.isMouseDown=!0;const i=3===r.which?e.secondColor:e.color,{x:a,y:s}=c(t,r),l=e.ctx.getImageData(0,0,e.canv.width,e.canv.height);let d;const h=r=>{if(!e.isMouseDown)return;const{x:h,y:u}=c(e.canv,r);d=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),n.putImageData(l,0,0),o(a,s,h,u,t,d,i,e.toolSize),n.putImageData(d,0,0)},u=()=>{e.isMouseDown=!1,e.ctx.putImageData(d,0,0),t.parentNode.parentNode.removeEventListener("mousemove",h),document.removeEventListener("mouseup",u),e.stopDraw(r)};t.parentNode.parentNode.addEventListener("mousemove",h),document.addEventListener("mouseup",u)},E=(e,t,n)=>r=>{e.isMouseDown=!0;const i=3===r.which?e.secondColor:e.color,{x:a,y:s}=c(t,r),l=e.ctx.getImageData(0,0,e.canv.width,e.canv.height);let d;const h=r=>{if(!e.isMouseDown)return;let{x:h,y:u}=c(e.canv,r);if(r.shiftKey){const e=Math.abs(u-s);h=h<a?a-e:a+e}d=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),n.putImageData(l,0,0),o(a,s,h,s,t,d,i,e.toolSize),o(h,s,h,u,t,d,i,e.toolSize),o(a,u,h,u,t,d,i,e.toolSize),o(a,s,a,u,t,d,i,e.toolSize),n.putImageData(d,0,0)},u=()=>{e.isMouseDown=!1,e.ctx.putImageData(d,0,0),t.parentNode.parentNode.removeEventListener("mousemove",h),document.removeEventListener("mouseup",u),e.stopDraw(r)};t.parentNode.parentNode.addEventListener("mousemove",h),document.addEventListener("mouseup",u)},T=(e,t,n)=>r=>{e.isMouseDown=!0;const i=3===r.which?e.secondColor:e.color,{x:a,y:s}=c(t,r),l=e.ctx.getImageData(0,0,e.canv.width,e.canv.height);let d;const h=r=>{if(!e.isMouseDown)return;const{x:h,y:u}=c(e.canv,r);d=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),n.putImageData(l,0,0),function(e,t,n,r,i,a,s,l,c){const d=2*Math.PI/20,h=(n+e)/2,u=(r+t)/2,f=Math.abs(n-h);let p,m;const g=Math.abs(n-h),v=Math.abs(r-u);c?(p=1,m=1):g>v?(p=1,m=0===g?1:v/g):(p=0===v?1:g/v,m=1);let b=Math.round(h+p*f),w=Math.round(u);for(let e=d;e<=2*Math.PI;e+=d){const t=Math.round(h+p*f*Math.cos(e)),n=Math.round(u-m*f*Math.sin(e));o(b,w,t,n,i,a,s,l),b=t,w=n}}(a,s,h,u,t,d,i,e.toolSize,r.shiftKey),n.putImageData(d,0,0)},u=()=>{e.isMouseDown=!1,e.ctx.putImageData(d,0,0),t.parentNode.parentNode.removeEventListener("mousemove",h),document.removeEventListener("mouseup",u),e.stopDraw(r)};t.parentNode.parentNode.addEventListener("mousemove",h),document.addEventListener("mouseup",u)},I=(e,t,n)=>r=>{e.isMouseDown=!0;const i=3===r.which?e.secondColor:e.color,{x:a,y:s}=c(t,r),l=e.ctx.getImageData(0,0,e.canv.width,e.canv.height);let d;const h=r=>{if(!e.isMouseDown)return;let{x:h,y:u}=c(e.canv,r);d=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),n.putImageData(l,0,0),o(a,s,h,u,t,d,i,e.toolSize),o(a,s,2*a-h,u,t,d,i,e.toolSize),o(h,u,2*a-h,u,t,d,i,e.toolSize),n.putImageData(d,0,0)},u=()=>{e.isMouseDown=!1,e.ctx.putImageData(d,0,0),t.parentNode.parentNode.removeEventListener("mousemove",h),document.removeEventListener("mouseup",u),e.stopDraw(r)};t.parentNode.parentNode.addEventListener("mousemove",h),document.addEventListener("mouseup",u)},N=(e,t)=>n=>{if(!e.isMouseDown)return;const r=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),{x:i,y:s}=c(e.canv,n);a(i,s,e.canv,r,e.toolSize,t),e.ctx.putImageData(r,0,0),e.tempX=i,e.tempY=s},C=e=>{let t;return n=>{if(!e.isMouseDown)return;const{x:r,y:i}=c(e.canv,n);if(r===e.tempX&&i===e.tempY)return;let a,s;t=e.ctx.getImageData(0,0,e.canv.width,e.canv.height),3===n.which?(a=e.secondColor,s=e.color):(a=e.color,s=e.secondColor),o(e.tempX,e.tempY,r,i,e.canv,t,a,e.toolSize,s),e.ctx.putImageData(t,0,0),e.tempX=r,e.tempY=i}},D=(e,t=255)=>{const[n,r,i]=e.match(/\w\w/g).map(e=>parseInt(e,16));return`rgba(${n},${r},${i},${t})`},B=(e,t,n)=>r=>{r.target===t?e.color=D(t.value):r.target===n&&(e.secondColor=D(n.value))};n(14);var M=class{constructor(e){this.frames=e,this.selectedTool=null,this.toolSize=1,this.selectedSize=null,this.color="rgba(0, 0, 0, 255)",this.secondColor="rgba(255, 255, 255, 255)",this.hoverColor="rgba(255, 255, 255, 40)",this.isMouseDown=!1,this.tempX=0,this.tempY=0;const{canv:t,ctx:n}=l(".canvas-container .layer");this.canv=t,this.ctx=n}addEvents(){this.addSelectEvent(),this.addChooseToolSizeEvent(),this.addChooseColorEvent(),document.addEventListener("keydown",y(this)),document.addEventListener("keydown",w(this)),document.oncontextmenu=v,document.addEventListener("mouseup",this.stopDraw.bind(this))}addChooseToolSizeEvent(){document.querySelector(".tools-container .tool-size").addEventListener("click",b(this))}resetToolSize(){let e=document.querySelector(".tools-container .active");e.classList.remove("active"),(e=document.querySelector(".tools-container .px1")).classList.add("active"),this.toolSize=1,this.selectedSize=e}resetEvents(){const{canv:e}=l(".canvas-container .hover-layer");this.canv.onmousemove=null,document.onmouseup=null,e.onmousedown=null}changeTool(e){this.selectedTool&&this.selectedTool.classList.remove("selected"),e.classList.add("selected"),this.selectedTool=e}selectTool(e){const t="I"===e.target.tagName?e.target.parentNode:e.target;t.classList.contains("tool")&&!t.classList.contains("selected")&&(this.changeTool(t),this.resetEvents(),t.classList.contains("pen")?this.penTool():t.classList.contains("mirror-pen")?this.mirrorPenTool():t.classList.contains("eraser")?this.eraserTool():t.classList.contains("magic-eraser")?this.magicErserTool():t.classList.contains("paint-bucket")?this.paintBucketTool():t.classList.contains("paint-bucket-all")?this.paintBucketAllTool():t.classList.contains("move")?this.moveTool():t.classList.contains("stroke")?this.strokeTool():t.classList.contains("rect")?this.rectTool():t.classList.contains("ellipse")?this.ellipseTool():t.classList.contains("triangle")?this.triangleTool():t.classList.contains("lighten")?this.brightnessTool(3):t.classList.contains("darken")?this.brightnessTool(-3):t.classList.contains("dithering")?this.ditheringTool():t.classList.contains("color-picker")&&(this.canv.parentNode.parentNode.style.cursor='url("img/cursors/dropper.png"), auto'))}addSelectEvent(){document.querySelector(".tools-container .tools-select").addEventListener("click",this.selectTool.bind(this));const{canv:e,ctx:t}=l(".canvas-container .hover-layer"),n=t.getImageData(0,0,e.width,e.height);e.addEventListener("mousedown",this.switchLayers.bind(this)),e.addEventListener("mousemove",this.pointer.bind(this)),e.addEventListener("mouseout",_(this,n,e,t))}penTool(e){this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/pen.png"), auto',this.canv.onmousemove=x(this,e)}mirrorPenTool(){this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/mirror-pen.png"), auto',this.canv.onmousemove=k(this)}eraserTool(){this.penTool("rgba(0, 0, 0, 0)"),document.querySelector(".canvas-container .layer").parentNode.parentNode.style.cursor='url("img/cursors/eraser.png"), auto'}magicErserTool(){this.paintBucketTool("rgb(, , , )"),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/eraser.png"), auto'}paintBucketTool(e){const{canv:t}=l(".canvas-container .hover-layer");this.canv.parentNode.parentNode.style.cursor='url("img/cursors/paint-bucket.png"), auto',this.resetEvents(),this.resetToolSize(),t.onmousedown=S(this,e)}paintBucketAllTool(){const{canv:e}=l(".canvas-container .hover-layer");this.canv.parentNode.parentNode.style.cursor='url("img/cursors/paint-bucket.png"), auto',this.resetEvents(),this.resetToolSize(),e.onmousedown=z(this)}moveTool(){const{canv:e}=l(".canvas-container .hover-layer");this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/hand.png"), auto',e.onmousedown=L(this)}strokeTool(){const{canv:e,ctx:t}=l(".canvas-container .hover-layer");this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/stroke.png"), auto',e.onmousedown=A(this,e,t)}rectTool(){const{canv:e,ctx:t}=l(".canvas-container .hover-layer");this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/rectangle.png"), auto',e.onmousedown=E(this,e,t)}ellipseTool(){const{canv:e,ctx:t}=l(".canvas-container .hover-layer");this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/circle.png"), auto',e.onmousedown=T(this,e,t)}triangleTool(){const{canv:e,ctx:t}=l(".canvas-container .hover-layer");this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/triangle.png"), auto',e.onmousedown=I(this,e,t)}brightnessTool(e){this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/brightness.png"), auto',this.canv.onmousemove=N(this,e)}ditheringTool(){this.resetEvents(),this.canv.parentNode.parentNode.style.cursor='url("img/cursors/dither.png"), auto',this.canv.onmousemove=C(this)}colorPickerTool(e,t,n){this.resetEvents();const r=this.ctx.getImageData(0,0,this.canv.width,this.canv.height),{data:i}=r,a=4*(n*this.canv.width+t),s=(o=i[a+0],l=i[a+1],c=i[a+2],`#${d(o)}${d(l)}${d(c)}`);var o,l,c;3===e.which?(document.querySelector(".choose-color .second-color").value=s,this.secondColor=`rgba(${i[a+0]}, ${i[a+1]}, ${i[a+2]}, 255)`):(document.querySelector(".choose-color .color").value=s,this.color=`rgba(${i[a+0]}, ${i[a+1]}, ${i[a+2]}, 255)`)}addChooseColorEvent(){const e=document.querySelector(".choose-color .color"),t=document.querySelector(".choose-color .second-color");e.addEventListener("change",B(this,e,t)),t.addEventListener("change",B(this,e,t))}pointer(e){if(!this.selectedTool)return;const{canv:t,ctx:n}=l(".canvas-container .hover-layer"),{x:i,y:a}=c(t,e);if(this.tempX===i&&this.tempY===a)return;const s=n.createImageData(t.width,t.height);this.selectedTool.classList.contains("mirror-pen")?(r(i,a,t,s,this.hoverColor,this.toolSize),r(t.width-i,a,t,s,this.hoverColor,this.toolSize)):r(i,a,t,s,this.hoverColor,this.toolSize),n.putImageData(s,0,0),this.tempX=i,this.tempY=a}stopDraw(e){if(!this.selectedTool)return;this.isMouseDown=!1;const{canv:t,ctx:n}=l(".canvas-container .layer"),{canv:i,ctx:a}=l(".canvas-container .hover-layer");let s;s=n.getImageData(0,0,t.width,t.height),this.frames.frameCtx.putImageData(s,0,0),this.selectedTool.classList.contains("stroke")||this.selectedTool.classList.contains("rect")||this.selectedTool.classList.contains("ellipse")||this.selectedTool.classList.contains("triangle")||(t.style.zIndex="40",i.style.zIndex="60"),"CANVAS"===e.target.tagName&&(s=a.createImageData(t.width,t.height),r(this.tempX,this.tempY,i,s,this.hoverColor,this.toolSize),a.putImageData(s,0,0))}switchLayers(e){if(!this.selectedTool)return;const{canv:t,ctx:n}=l(".canvas-container .hover-layer"),{canv:s,ctx:o}=l(".canvas-container .layer"),{x:d,y:h}=c(t,e);this.selectedTool.classList.contains("stroke")||this.selectedTool.classList.contains("rect")||this.selectedTool.classList.contains("ellipse")||this.selectedTool.classList.contains("triangle")||(t.style.zIndex="40",s.style.zIndex="60"),this.isMouseDown=!0,this.tempX=d,this.tempY=h;const u=o.getImageData(0,0,s.width,s.height),f=n.createImageData(t.width,t.height);let p,m;3===e.which?(p=this.secondColor,m=this.color):(p=this.color,m=this.secondColor),this.selectedTool.classList.contains("pen")?r(this.tempX,this.tempY,s,u,p,this.toolSize):this.selectedTool.classList.contains("mirror-pen")?(r(this.tempX,this.tempY,s,u,p,this.toolSize),r(s.width-this.tempX,this.tempY,s,u,p,this.toolSize)):this.selectedTool.classList.contains("eraser")?r(this.tempX,this.tempY,s,u,"rgba(0, 0, 0, 0)",this.toolSize):this.selectedTool.classList.contains("lighten")?a(d,h,t,u,this.toolSize,10):this.selectedTool.classList.contains("darken")?a(d,h,t,u,this.toolSize,-10):this.selectedTool.classList.contains("dithering")?i(this.tempX,this.tempY,s,u,p,m,this.toolSize):this.selectedTool.classList.contains("color-picker")&&this.colorPickerTool(e,d,h),o.putImageData(u,0,0),n.putImageData(f,0,0)}};const U=e=>()=>{document.fullscreen?document.exitFullscreen():e.requestFullscreen()},F=e=>()=>{if("0"===e.range.value)return e.isAnimation=!1,void(e.fpsValue.innerText=0);e.isAnimation=!0,e.FPS=+e.range.value,e.fpsValue.innerText=e.FPS,e.animationInterval=1e3/e.FPS,e.animateFrames(e.animationInterval)},q=e=>{const t=URL.createObjectURL(e),n=document.createElement("a");n.download="spirte.gif",n.href=t,n.click()};var R=n(9),O=n.n(R),P=n(10),Z=n.n(P);n(26);var j=class{constructor(e){this.frames=e,this.isAnimation=!1,this.FPS=1,this.animationInterval=1e3/this.FPS,this.range=document.querySelector(".animation-speed .FPS-range"),this.fpsValue=document.querySelector(".animation-speed .FPS-value")}addEvents(){this.range.addEventListener("change",F(this));const e=document.querySelector(".preview-container .full-screen-button"),t=document.querySelector(".preview-menu .preview-container-wrapper");e.addEventListener("click",U(t)),document.querySelector(".export .toGif").addEventListener("click",this.exportToGif.bind(this)),document.querySelector(".export .toApng").addEventListener("click",this.exportToApng.bind(this))}animateFrames(){let e=0;const{canv:t,ctx:n}=l(".preview-container .preview"),r=n.createImageData(t.width,t.height),i=()=>{if(!this.isAnimation)return;let t=!0,a=0;n.putImageData(r,0,0),this.frames.framesList.forEach(r=>{1!==r.length&&(t=!1),r.length-1>a&&(a=r.length-1),r[e]&&n.drawImage(r[e],0,0)}),t||(e===a?e=0:e+=1,setTimeout(i,this.animationInterval))};i()}exportToGif(){const e=new Z.a({workerScript:"js/gif.worker.js",quality:1,width:this.canvSize,height:this.canvSize});let t=1;for(let n=0;n<t;n+=1){const r=document.createElement("CANVAS");r.width=this.frames.canvSize,r.height=this.frames.canvSize;const i=r.getContext("2d");this.frames.framesList.forEach(e=>{e.length>t&&(t=e.length),e[n]&&i.drawImage(e[n],0,0)}),e.addFrame(r,{delay:this.animationInterval})}e.on("finished",q),e.render()}exportToApng(){const e=[],t=[];let n=1;for(let r=0;r<n;r+=1){const i=document.createElement("CANVAS");i.width=this.frames.canvSize,i.height=this.frames.canvSize;const a=i.getContext("2d");this.frames.framesList.forEach(e=>{e.length>n&&(n=e.length),e[r]&&a.drawImage(e[r],0,0)});const{data:s}=a.getImageData(0,0,i.width,i.height);e.push(s.buffer),t.push(this.animationInterval)}let r=O.a.encode(e,this.frames.canvSize,this.frames.canvSize,0,t);r=new File([r],"spirte.apng");const i=URL.createObjectURL(r),a=document.createElement("a");a.download="spirte.png",a.href=i,a.click()}};const H=e=>{const t=e.layer.parentNode,n=t.parentNode;let r=window.innerWidth;return()=>{const e=Math.abs(r-window.innerWidth);r=window.innerWidth;const i=window.getComputedStyle(n),a=window.getComputedStyle(t),s=+i.width.slice(0,-2),o=+i.height.slice(0,-2);s>+a.width.slice(0,-2)?s>=o?(t.style.width=i.height,t.style.height=i.height):(t.style.width=i.width,t.style.height=i.width):(t.style.width=`${s-e}px`,t.style.height=`${s-e}px`)}},K=(e,t)=>{const n=document.querySelector(".canv-scale"),r=+window.getComputedStyle(t).width.slice(0,-2),i=r/e.frames.canvSize;let a=1;return n.innerText=`x${i.toFixed(2)}`,i=>{i.preventDefault(),a+=-.01*i.deltaY,a=Math.min(Math.max(e.frames.canvSize/r,a),4),t.style.transform=`scale(${a})`,n.innerText=`x${(a*r/e.frames.canvSize).toFixed(2)}`}},Y=(e,t)=>{const n=document.body.getElementsByTagName("CANVAS"),r=document.querySelector(".canvas-info .canv-size"),i=document.querySelector(".canvas-size .px32"),a=document.querySelector(".canvas-size .px64"),s=document.querySelector(".canvas-size .px128");let o=document.querySelector(".canvas-size .active")||i;return l=>{const c=t||l.target;if("BUTTON"===c.tagName){switch(o.classList.remove("active"),o=c){case i:e.frames.canvSize=32;break;case a:e.frames.canvSize=64;break;case s:e.frames.canvSize=128;break;default:e.frames.canvSize=32}r.innerText=`[${e.frames.canvSize}X${e.frames.canvSize}]`,[].forEach.call(n,t=>{const n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height);t.width=e.frames.canvSize,t.height=e.frames.canvSize,n.putImageData(r,0,0)}),o.classList.add("active"),e.layer.parentNode.style.transform="scale(1)",e.addZoomEvent()}}},V=e=>{const t=document.querySelector(".canvas-size .px32"),n=document.querySelector(".canvas-size .px64"),r=document.querySelector(".canvas-size .px128");return i=>{"Digit1"===i.code&&i.shiftKey?Y(e,t)():"Digit2"===i.code&&i.shiftKey?Y(e,n)():"Digit3"===i.code&&i.shiftKey&&Y(e,r)()}},X=(e,t,n)=>r=>{const i=r.target===e?e:t,{x:a,y:s}=c(i,r);n.innerText=`${a} : ${s}`},$=(e,t,n)=>()=>{n.style.display="inline",e.addEventListener("mousemove",X(e,t,n)),t.addEventListener("mousemove",X(e,t,n))},G=e=>()=>{e.style.display="none"},W=e=>{const t=document.querySelector(".layers-menu .layers-list"),n=document.querySelector(".frames-select .frames-container");return()=>{n.innerHTML="",e.frames.layerNumber=e.frames.framesList.length;const{layerNumber:r}=e.frames;e.frames.framesList[r]=[],e.frames.addFrame();const i=document.createElement("LI");i.classList.add("layer"),i.innerText=`layer ${e.frames.framesList.length}`,e.selectedLayer&&e.selectedLayer.classList.remove("active"),i.classList.add("active"),e.selectedLayer=i,i.addEventListener("click",((e,t,n,r,i)=>{const a=e.layer.getContext("2d");return()=>{const s=i.getElementsByClassName("layer");r=[].indexOf.call(s,t),e.selectedLayer.classList.remove("active"),t.classList.add("active"),e.selectedLayer=t,n.innerHTML="",e.frames.layerNumber=r,e.frames.framesList[r].forEach((t,n)=>{e.frames.addFrame(null,t,n+1)}),a.drawImage(e.frames.currentFrame,0,0)}})(e,i,n,r,t)),t.appendChild(i)}},Q=e=>t=>{"KeyN"===t.code&&t.shiftKey&&W(e)()},J=e=>{const t=document.querySelector(".layers-menu .layers-list"),n=document.querySelector(".frames-select .frames-container"),r=e.layer.getContext("2d");return()=>{if(e.frames.framesList.length<2)return;n.innerHTML="",e.frames.framesList.splice(e.frames.layerNumber,1);const i=t.getElementsByClassName("layer");t.removeChild(i[e.frames.layerNumber]);for(let t=e.frames.layerNumber;t<i.length;t+=1)i[t].innerText=`layer ${t+1}`;e.frames.layerNumber===e.frames.framesList.length&&(e.frames.layerNumber-=1),e.selectedLayer=i[e.frames.layerNumber],e.selectedLayer.classList.add("active"),e.frames.framesList[e.frames.layerNumber].forEach((t,n)=>{e.frames.addFrame(null,t,n+1)}),r.drawImage(e.frames.currentFrame,0,0)}},ee=e=>t=>{"Backspace"===t.key&&t.shiftKey&&J(e)()},te=(e,t)=>{const n=document.querySelector(".frames-select .frames-container"),r=e.layer.getContext("2d");return()=>{const i=document.querySelector(".layers-menu .layers-list"),a=i.getElementsByClassName("layer");if(a[e.frames.layerNumber+t]){if(n.innerHTML="",t>0){let n=i.removeChild(a[e.frames.layerNumber+t]);i.insertBefore(n,a[e.frames.layerNumber]),n=e.frames.framesList.splice(e.frames.layerNumber+t,1),e.frames.framesList.splice(e.frames.layerNumber,0,...n)}else{let n=i.removeChild(a[e.frames.layerNumber]);i.insertBefore(n,a[e.frames.layerNumber+t]),n=e.frames.framesList.splice(e.frames.layerNumber,1),e.frames.framesList.splice(e.frames.layerNumber+t,0,...n)}e.frames.layerNumber+=t,e.frames.framesList[e.frames.layerNumber].forEach((t,n)=>{e.frames.addFrame(null,t,n+1)}),r.drawImage(e.frames.currentFrame,0,0)}}},ne=(e,t)=>n=>{"ArrowDown"===n.key&&n.shiftKey&&te(e,t)()},re=(e,t)=>n=>{"ArrowUp"===n.key&&n.shiftKey&&te(e,t)()};class ie{constructor(e){this.frames=e,this.selectedLayer=null,this.layer=document.querySelector(".layers-container .layer")}addEvents(){this.addChangeSizeEvent(),this.addZoomEvent(),this.addChooseCanvSizeEvent(),this.addLayer(),this.removeLayer(),this.moveLayer(1),this.moveLayer(-1),ie.addCoordsEvent()}addChangeSizeEvent(){H(this)(),window.addEventListener("resize",H(this))}addZoomEvent(){const e=this.layer.parentNode;e.parentNode.addEventListener("wheel",K(this,e))}addChooseCanvSizeEvent(){document.querySelector(".canvas-size").addEventListener("click",Y(this)),document.addEventListener("keydown",V(this))}static addCoordsEvent(){const e=document.querySelector(".canvas-container .layer"),t=document.querySelector(".canvas-container .hover-layer"),n=document.querySelector(".canvas-info .coords");e.addEventListener("mouseover",$(e,t,n)),t.addEventListener("mouseover",$(e,t,n)),e.addEventListener("mouseout",G(n)),t.addEventListener("mouseout",G(n))}addLayer(){W(this)(),document.querySelector(".layers-control .layer-add").addEventListener("click",W(this)),document.addEventListener("keydown",Q(this))}removeLayer(){document.querySelector(".layers-control .layer-remove").addEventListener("click",J(this)),document.addEventListener("keydown",ee(this))}moveLayer(e){if(e>0){document.querySelector(".layers-control .layer-down").addEventListener("click",te(this,e)),document.addEventListener("keydown",ne(this,e))}else{document.querySelector(".layers-control .layer-up").addEventListener("click",te(this,e)),document.addEventListener("keydown",re(this,e))}}}n(28);var ae=ie;n(30),n(32);!function(){document.querySelector("main .tools-container").innerHTML='\n  <ul class="tool-size">\n          <div class="description">\n            <span class="description-title">Pen size</span>\n            <p class="description-text">from 1 to 4 pixels</p>\n          </div>\n          <li class="size px1"></li>\n          <li class="size px2"></li>\n          <li class="size px3"></li>\n          <li class="size px4"></li>\n        </ul>\n\n        <ul class="tools-select">\n          <li class="tool pen">\n            <i class="fas fa-pen"></i>\n            <div class="description">\n              <span>Pen <i class="shortcut">(P)</i></span>\n            </div>\n          </li>\n          <li class="tool mirror-pen">\n            <i class="fas fa-edit"></i>\n            <div class="description">\n              <span>Mirror pen <i class="shortcut">(V)</i></span>\n            </div>\n          </li>\n          <li class="tool paint-bucket">\n            <i class="fas fa-fill-drip"></i>\n            <div class="description">\n              <span>Paint bucket <i class="shortcut">(B)</i></span>\n            </div>\n          </li>\n          <li class="tool paint-bucket-all">\n            <i class="fas fa-fill"></i>\n            <div class="description">\n              <span>Paint bucket all <i class="shortcut">(A)</i></span>\n            </div>\n          </li>\n          <li class="tool triangle">\n            <i class="fas fa-caret-up"></i>\n            <div class="description">\n              <span>Triangle <i class="shortcut">(T)</i></span>\n            </div>\n          </li>\n          <li class="tool stroke">\n            <i class="fas fa-minus"></i>\n            <div class="description">\n              <span>Stroke <i class="shortcut">(S)</i></span>\n            </div>\n          </li>\n          <li class="tool rect">\n            <i class="far fa-square"></i>\n            <div class="description">\n              <span>Rectangle <i class="shortcut">(R)</i></span>\n              <span class="addition">Square <i class="shortcut">(Shift)</i></span>\n            </div>\n          </li>\n          <li class="tool ellipse">\n            <i class="far fa-circle"></i>\n            <div class="description">\n              <span>Ellipse <i class="shortcut">(C)</i></span>\n              <span class="addition">Circle <i class="shortcut">(Shift)</i></span>\n            </div>\n          </li>\n          <li class="tool darken">\n            <i class="fas fa-moon"></i>\n            <div class="description">\n              <span>Darken <i class="shortcut">(D)</i></span>\n            </div>\n          </li>\n          <li class="tool lighten">\n            <i class="fas fa-sun"></i>\n            <div class="description">\n              <span>Lighten <i class="shortcut">(L)</i></span>\n            </div>\n          </li>\n          <li class="tool move">\n            <i class="fas fa-hand-paper"></i>\n            <div class="description">\n              <span>Move <i class="shortcut">(M)</i></span>\n            </div>\n          </li>\n          <li class="tool dithering">\n            <i class="fas fa-chess-board"></i>\n            <div class="description">\n              <span>Dithering <i class="shortcut">(I)</i></span>\n            </div>\n          </li>\n          <li class="tool eraser">\n            <i class="fas fa-eraser"></i>\n            <div class="description">\n              <span>Eraser <i class="shortcut">(E)</i></span>\n            </div>\n          </li>\n          <li class="tool magic-eraser">\n            <i class="fas fa-magic"></i>\n            <div class="description">\n              <span>Magic eraser <i class="shortcut">(G)</i></span>\n            </div>\n          </li>\n          <li class="tool color-picker">\n            <i class="fas fa-eye-dropper"></i>\n            <div class="description">\n              <span>Color picker <i class="shortcut">(O)</i></span>\n            </div>\n          </li>\n        </ul>\n\n        <div class="choose-color">\n          <input type="color" name="second-color" class="second-color" value="#ffffff">\n          <input type="color" name="color" class="color">\n        </div>',document.querySelector("main .frames-select").innerHTML='\n  <div class="frames-container"></div>\n     <button class="addFrame-button"><i class="fas fa-plus-circle"></i></i><span>Add Frame</span></button>\n  ',document.querySelector("main .menu").innerHTML+='\n    <div class="preview-menu">\n      <div class="preview-container-wrapper">\n        <div class="preview-container">\n          <canvas width="32" height="32" class="preview"></canvas>\n          <button class="full-screen-button"><i class="fas fa-external-link-square-alt"></i></button>\n        </div>\n      <div class="animation-speed">\n        <input type="range" name="FPS" class="FPS-range" min="0" max="24" value=0>\n        <label for="FPS" class="FPS-label">FPS: <span class="FPS-value">0</span></label>\n      </div>\n      <div class="export">\n        <span class="export-title">Export to: </span>\n        <button class="toGif">gif</button>\n        <button class="toApng">apng</button>\n      </div>\n    </div>',document.querySelector("main .layers-container").innerHTML='\n    <div class="canvas-container">\n        <canvas width="32" height="32" class="additional-layer"></canvas>\n        <canvas width="32" height="32" class="hover-layer"></canvas>\n        <canvas width="32" height="32" class="layer"></canvas>\n    </div>\n  ',document.querySelector("main .menu").innerHTML+='\n  <div class="layers-menu">\n    <div class="layers-control">\n      <span class="title">Layers</span>\n      <button class="layer-add"><i class="fas fa-plus"></i></button>\n      <button class="layer-up"><i class="fas fa-chevron-up"></i></button>\n      <button class="layer-down"><i class="fas fa-chevron-down"></i></button>\n      <button class="layer-remove"><i class="fas fa-times"></i></button>\n    </div>\n    <ul class="layers-list">\n    </ul>\n  </div>\n\n  <div class="canvas-menu">\n    <div class="canvas-info">\n        <span class="canv-scale">x1</span>\n        <span class="canv-size">[32X32]</span>\n        <span class="coords"></span>\n    </div>\n\n    <div class="canvas-size">\n      <button class="size px32 active">32X32</button>\n      <button class="size px64">64X64</button>\n      <button class="size px128">128X128</button>\n    </div>\n  </div>';const e=new g;new ae(e).addEvents(),e.addEvents(),new M(e).addEvents(),new j(e).addEvents()}(),window.onSignIn=function(e){const t=e.getBasicProfile(),n=document.querySelector(".profile-container"),r=document.querySelector(".profile-container .profile-image"),i=document.querySelector(".profile-container .profile-username"),a=document.querySelector(".g-signin2");r.style.background=`url('${t.getImageUrl()}') center center no-repeat`,r.style.backgroundSize="cover",i.innerText=t.getName(),n.style.display="flex",n.parentNode.removeChild(a)}}]);
//# sourceMappingURL=bundle.js.map